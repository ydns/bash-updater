!function(a){function b(a,b){return"function"==typeof a?a.call(b):a}function c(a){for(;a=a.parentNode;)if(a==document)return!0;return!1}function d(){var a=f++;return"tipsyuid"+a}function e(b,c){this.$element=a(b),this.options=c,this.enabled=!0,this.fixTitle()}var f=0;e.prototype={"show":function(){function e(){i.hoverTooltip=!0}function f(){if("in"!=i.hoverState&&(i.hoverTooltip=!1,"manual"!=i.options.trigger)){var a="hover"==i.options.trigger?"mouseleave.tipsy":"blur.tipsy";i.$element.trigger(a)}}if(c(this.$element[0])){var g=this.getTitle();if(g&&this.enabled){var h=this.tip();h.find(".tipsy-inner")[this.options.html?"html":"text"](g),h[0].className="tipsy",h.remove().css({"top":0,"left":0,"visibility":"hidden","display":"block"}).prependTo(document.body);var i=this;this.options.hoverable&&h.hover(e,f),this.options.className&&h.addClass(b(this.options.className,this.$element[0]));var j,k=a.extend({},this.$element.offset(),{"width":this.$element[0].offsetWidth,"height":this.$element[0].offsetHeight}),l=h[0].offsetWidth,m=h[0].offsetHeight,n=b(this.options.gravity,this.$element[0]);switch(n.charAt(0)){case"n":j={"top":k.top+k.height+this.options.offset,"left":k.left+k.width/2-l/2};break;case"s":j={"top":k.top-m-this.options.offset,"left":k.left+k.width/2-l/2};break;case"e":j={"top":k.top+k.height/2-m/2,"left":k.left-l-this.options.offset};break;case"w":j={"top":k.top+k.height/2-m/2,"left":k.left+k.width+this.options.offset}}if(2==n.length&&(j.left="w"==n.charAt(1)?k.left+k.width/2-15:k.left+k.width/2-l+15),h.css(j).addClass("tipsy-"+n),h.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+n.charAt(0),this.options.fade?h.stop().css({"opacity":0,"display":"block","visibility":"visible"}).animate({"opacity":this.options.opacity}):h.css({"visibility":"visible","opacity":this.options.opacity}),this.options.aria){var o=d();h.attr("id",o),this.$element.attr("aria-describedby",o)}}}},"hide":function(){this.options.fade?this.tip().stop().fadeOut(function(){a(this).remove()}):this.tip().remove(),this.options.aria&&this.$element.removeAttr("aria-describedby")},"fixTitle":function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("original-title"))&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},"getTitle":function(){var a,b=this.$element,c=this.options;this.fixTitle();var a,c=this.options;return"string"==typeof c.title?a=b.attr("title"==c.title?"original-title":c.title):"function"==typeof c.title&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,""),a||c.fallback},"tip":function(){return this.$tip||(this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>').attr("role","tooltip"),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},"validate":function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},"enable":function(){this.enabled=!0},"disable":function(){this.enabled=!1},"toggleEnabled":function(){this.enabled=!this.enabled}},a.fn.tipsy=function(b){function c(c){var d=a.data(c,"tipsy");return d||(d=new e(c,a.fn.tipsy.elementOptions(c,b)),a.data(c,"tipsy",d)),d}function d(){var a=c(this);a.hoverState="in",0==b.delayIn?a.show():(a.fixTitle(),setTimeout(function(){"in"==a.hoverState&&a.show()},b.delayIn))}function f(){var a=c(this);a.hoverState="out",0==b.delayOut?a.hide():setTimeout(function(){"out"!=a.hoverState||a.hoverTooltip||a.hide()},b.delayOut)}if(b===!0)return this.data("tipsy");if("string"==typeof b){var g=this.data("tipsy");return g&&g[b](),this}if(b=a.extend({},a.fn.tipsy.defaults,b),b.hoverable&&(b.delayOut=b.delayOut||20),b.live||this.each(function(){c(this)}),"manual"!=b.trigger){var h="hover"==b.trigger?"mouseenter.tipsy":"focus.tipsy",i="hover"==b.trigger?"mouseleave.tipsy":"blur.tipsy";b.live?a(this.context).on(h,this.selector,d).on(i,this.selector,f):this.bind(h,d).bind(i,f)}return this},a.fn.tipsy.defaults={"aria":!1,"className":null,"delayIn":0,"delayOut":0,"fade":!1,"fallback":"","gravity":"n","html":!1,"live":!1,"hoverable":!1,"offset":0,"opacity":.8,"title":"title","trigger":"hover"},a.fn.tipsy.revalidate=function(){a(".tipsy").each(function(){var b=a.data(this,"tipsy-pointee");b&&c(b)||a(this).remove()})},a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c},a.fn.tipsy.autoNS=function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"},a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"},a.fn.tipsy.autoBounds=function(b,c){return function(){var d={"ns":c[0],"ew":c.length>1?c[1]:!1},e=a(document).scrollTop()+b,f=a(document).scrollLeft()+b,g=a(this);return g.offset().top<e&&(d.ns="n"),g.offset().left<f&&(d.ew="w"),a(window).width()+a(document).scrollLeft()-g.offset().left<b&&(d.ew="e"),a(window).height()+a(document).scrollTop()-g.offset().top<b&&(d.ns="s"),d.ns+(d.ew?d.ew:"")}}}(jQuery),function(a){var b=a(document),c=function(c){var d={};return d.$trigger=a(c.currentTarget),d.$content=b.find("#"+d.$trigger.attr("aria-controls")),d.triggerIsParent=0!==d.$content.parent().filter(d.$trigger).length,d.$shortContent=d.triggerIsParent?d.$trigger.find(".aui-expander-short-content"):null,d.height=d.$content.css("min-height"),d.isCollapsible=d.$trigger.data("collapsible")!==!1,d.replaceText=d.$trigger.attr("data-replace-text"),d.replaceSelector=d.$trigger.data("replace-selector"),d},d=function(a){if(a.replaceText){var b=a.replaceSelector?a.$trigger.find(a.replaceSelector):a.$trigger;a.$trigger.attr("data-replace-text",b.text()),b.text(a.replaceText)}},e={"aui-expander-invoke":function(c){var d=a(c.currentTarget),e=b.find("#"+d.attr("aria-controls")),f=d.data("collapsible")!==!1;d.trigger("true"===e.attr("aria-expanded")&&f?"aui-expander-collapse":"aui-expander-expand")},"aui-expander-expand":function(a){var b=c(a);b.$content.attr("aria-expanded","true"),b.$trigger.attr("aria-expanded","true"),b.$content.outerHeight()>0&&b.$content.attr("aria-hidden","false"),d(b),b.triggerIsParent&&b.$shortContent.hide(),b.$trigger.trigger("aui-expander-expanded")},"aui-expander-collapse":function(a){var b=c(a);d(b),b.$content.attr("aria-expanded","false"),b.$trigger.attr("aria-expanded","false"),b.triggerIsParent&&b.$shortContent.show(),0===b.$content.outerHeight()&&b.$content.attr("aria-hidden","true"),b.$trigger.trigger("aui-expander-collapsed")},"click.aui-expander":function(b){var c=a(b.currentTarget);c.trigger("aui-expander-invoke",b.currentTarget)}};b.on(e,".aui-expander-trigger")}(jQuery),function(){"use strict";function a(a,b,c){AJS._internal.animation.recomputeStyle(a),a.css("width",100*c+"%"),b.attr("data-value",c)}AJS.progressBars={"update":function(b,c){var d=AJS.$(b).first(),e=d.children(".aui-progress-indicator-value"),f=e.attr("data-value")||0,g="aui-progress-indicator-after-update",h="aui-progress-indicator-before-update",i="transitionend webkitTransitionEnd",j=!d.attr("data-value");if(j&&e.css("width",0),"number"==typeof c&&1>=c&&c>=0){d.trigger(h,[f,c]);var k=document.body||document.documentElement,l=k.style;"string"==typeof l.transition||"string"==typeof l.WebkitTransition?(e.one(i,function(){d.trigger(g,[f,c])}),a(e,d,c)):(a(e,d,c),d.trigger(g,[f,c]))}return d},"setIndeterminate":function(a){var b=AJS.$(a).first(),c=b.children(".aui-progress-indicator-value");b.removeAttr("data-value"),AJS._internal.animation.recomputeStyle(b),c.css("width","100%")}}}(),!function(a){"use strict";a.extend({"tablesorter":new function(){function b(){var a=arguments[0],b=arguments.length>1?Array.prototype.slice.call(arguments):a;"undefined"!=typeof console&&"undefined"!=typeof console.log?console[/error/i.test(a)?"error":/warn/i.test(a)?"warn":"log"](b):alert(b)}function c(a,c){b(a+" ("+((new Date).getTime()-c.getTime())+"ms)")}function d(a){for(var b in a)return!1;return!0}function e(b,c,d){if(!c)return"";var e,f=b.config,g=f.textExtraction||"",h="";return h="basic"===g?a(c).attr(f.textAttribute)||c.textContent||c.innerText||a(c).text()||"":"function"==typeof g?g(c,b,d):"function"==typeof(e=w.getColumnData(b,g,d))?e(c,b,d):c.textContent||c.innerText||a(c).text()||"",a.trim(h)}function f(a,c,d,f){for(var g,h=w.parsers.length,i=!1,j="",k=!0;""===j&&k;)d++,c[d]?(i=c[d].cells[f],j=e(a,i,f),a.config.debug&&b("Checking if value was empty on row "+d+", column: "+f+': "'+j+'"')):k=!1;for(;--h>=0;)if(g=w.parsers[h],g&&"text"!==g.id&&g.is&&g.is(j,a,i))return g;return w.getParserById("text")}function g(a){var d,e,g,h,i,j,k,l,m,n,o=a.config,p=o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),q=0,r="",s=p.length;if(0===s)return o.debug?b("Warning: *Empty table!* Not building a parser cache"):"";for(o.debug&&(n=new Date,b("Detecting parsers for each column")),e={"extractors":[],"parsers":[]};s>q;){if(d=p[q].rows,d[q])for(g=o.columns,h=0;g>h;h++)i=o.$headers.filter('[data-column="'+h+'"]:last'),j=w.getColumnData(a,o.headers,h),m=w.getParserById(w.getData(i,j,"extractor")),l=w.getParserById(w.getData(i,j,"sorter")),k="false"===w.getData(i,j,"parser"),o.empties[h]=w.getData(i,j,"empty")||o.emptyTo||(o.emptyToBottom?"bottom":"top"),o.strings[h]=w.getData(i,j,"string")||o.stringTo||"max",k&&(l=w.getParserById("no-parser")),m||(m=!1),l||(l=f(a,d,-1,h)),o.debug&&(r+="column:"+h+"; extractor:"+m.id+"; parser:"+l.id+"; string:"+o.strings[h]+"; empty: "+o.empties[h]+"\n"),e.parsers[h]=l,e.extractors[h]=m;q+=e.parsers.length?s:1}o.debug&&(b(r?r:"No parsers detected"),c("Completed detecting parsers",n)),o.parsers=e.parsers,o.extractors=e.extractors}function h(d){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=d.config,u=t.$table.children("tbody"),v=t.extractors,x=t.parsers;if(t.cache={},t.totalRows=0,!x)return t.debug?b("Warning: *Empty table!* Not building a cache"):"";for(t.debug&&(p=new Date),t.showProcessing&&w.isProcessing(d,!0),l=0;l<u.length;l++)if(s=[],f=t.cache[l]={"normalized":[]},!u.eq(l).hasClass(t.cssInfoBlock)){for(q=u[l]&&u[l].rows.length||0,j=0;q>j;++j)if(r={"child":[]},m=a(u[l].rows[j]),n=[new Array(t.columns)],o=[],m.hasClass(t.cssChildRow)&&0!==j)g=f.normalized.length-1,f.normalized[g][t.columns].$row=f.normalized[g][t.columns].$row.add(m),m.prev().hasClass(t.cssChildRow)||m.prev().addClass(w.css.cssHasChild),r.child[g]=a.trim(m[0].textContent||m[0].innerText||m.text()||"");else{for(r.$row=m,r.order=j,k=0;k<t.columns;++k)"undefined"!=typeof x[k]?(g=e(d,m[0].cells[k],k),h="undefined"==typeof v[k].id?g:v[k].format(g,d,m[0].cells[k],k),i="no-parser"===x[k].id?"":x[k].format(h,d,m[0].cells[k],k),o.push(t.ignoreCase&&"string"==typeof i?i.toLowerCase():i),"numeric"===(x[k].type||"").toLowerCase()&&(s[k]=Math.max(Math.abs(i)||0,s[k]||0))):t.debug&&b("No parser found for cell:",m[0].cells[k],"does it have a header?");o[t.columns]=r,f.normalized.push(o)}f.colMax=s,t.totalRows+=f.normalized.length}t.showProcessing&&w.isProcessing(d),t.debug&&c("Building cache for "+q+" rows",p)}function i(b,e){var f,g,h,i,j,k,l,m=b.config,n=m.widgetOptions,o=b.tBodies,p=[],q=m.cache;if(d(q))return m.appender?m.appender(b,p):b.isUpdating?m.$table.trigger("updateComplete",b):"";for(m.debug&&(l=new Date),k=0;k<o.length;k++)if(h=a(o[k]),h.length&&!h.hasClass(m.cssInfoBlock)){for(i=w.processTbody(b,h,!0),f=q[k].normalized,g=f.length,j=0;g>j;j++)p.push(f[j][m.columns].$row),m.appender&&(!m.pager||m.pager.removeRows&&n.pager_removeRows||m.pager.ajax)||i.append(f[j][m.columns].$row);w.processTbody(b,i,!1)}m.appender&&m.appender(b,p),m.debug&&c("Rebuilt table",l),e||m.appender||w.applyWidget(b),b.isUpdating&&m.$table.trigger("updateComplete",b)}function j(a){return/^d/i.test(a)||1===a}function k(d){var e,f,g,h,i,k,l,n=d.config;n.headerList=[],n.headerContent=[],n.debug&&(l=new Date),n.columns=w.computeColumnIndex(n.$table.children("thead, tfoot").children("tr")),h=n.cssIcon?'<i class="'+(n.cssIcon===w.css.icon?w.css.icon:n.cssIcon+" "+w.css.icon)+'"></i>':"",n.$headers=a(d).find(n.selectorHeaders).each(function(b){f=a(this),e=w.getColumnData(d,n.headers,b,!0),n.headerContent[b]=a(this).html(),i=n.headerTemplate.replace(/\{content\}/g,a(this).html()).replace(/\{icon\}/g,h),n.onRenderTemplate&&(g=n.onRenderTemplate.apply(f,[b,i]),g&&"string"==typeof g&&(i=g)),a(this).html('<div class="'+w.css.headerIn+'">'+i+"</div>"),n.onRenderHeader&&n.onRenderHeader.apply(f,[b]),this.column=parseInt(a(this).attr("data-column"),10),this.order=j(w.getData(f,e,"sortInitialOrder")||n.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,k=w.getData(f,e,"lockedOrder")||!1,"undefined"!=typeof k&&k!==!1&&(this.order=this.lockedOrder=j(k)?[1,1,1]:[0,0,0]),f.addClass(w.css.header+" "+n.cssHeader),n.headerList[b]=this,f.parent().addClass(w.css.headerRow+" "+n.cssHeaderRow).attr("role","row"),n.tabIndex&&f.attr("tabindex",0)}).attr({"scope":"col","role":"columnheader"}),m(d),n.debug&&(c("Built headers:",l),b(n.$headers))}function l(a,b,c){var d=a.config;d.$table.find(d.selectorRemove).remove(),g(a),h(a),u(d.$table,b,c)}function m(b){var c,d,e,f=b.config;f.$headers.each(function(g,h){d=a(h),e=w.getColumnData(b,f.headers,g,!0),c="false"===w.getData(h,e,"sorter")||"false"===w.getData(h,e,"parser"),h.sortDisabled=c,d[c?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+c),b.id&&(c?d.removeAttr("aria-controls"):d.attr("aria-controls",b.id))})}function n(b){var c,d,e,f=b.config,g=f.sortList,h=g.length,i=w.css.sortNone+" "+f.cssNone,j=[w.css.sortAsc+" "+f.cssAsc,w.css.sortDesc+" "+f.cssDesc],k=["ascending","descending"],l=a(b).find("tfoot tr").children().add(f.$extraHeaders).removeClass(j.join(" "));for(f.$headers.removeClass(j.join(" ")).addClass(i).attr("aria-sort","none"),d=0;h>d;d++)if(2!==g[d][1]&&(c=f.$headers.not(".sorter-false").filter('[data-column="'+g[d][0]+'"]'+(1===h?":last":"")),c.length)){for(e=0;e<c.length;e++)c[e].sortDisabled||c.eq(e).removeClass(i).addClass(j[g[d][1]]).attr("aria-sort",k[g[d][1]]);l.length&&l.filter('[data-column="'+g[d][0]+'"]').removeClass(i).addClass(j[g[d][1]])}f.$headers.not(".sorter-false").each(function(){var b=a(this),c=this.order[(this.count+1)%(f.sortReset?3:2)],d=b.text()+": "+w.language[b.hasClass(w.css.sortAsc)?"sortAsc":b.hasClass(w.css.sortDesc)?"sortDesc":"sortNone"]+w.language[0===c?"nextAsc":1===c?"nextDesc":"nextNone"];b.attr("aria-label",d)})}function o(b){if(b.config.widthFixed&&0===a(b).find("colgroup").length){var c=a("<colgroup>"),d=a(b).width();a(b.tBodies[0]).find("tr:first").children(":visible").each(function(){c.append(a("<col>").css("width",parseInt(a(this).width()/d*1e3,10)/10+"%"))}),a(b).prepend(c)}}function p(b,c){var d,e,f,g,h,i=b.config,j=c||i.sortList;i.sortList=[],a.each(j,function(b,c){if(g=parseInt(c[0],10),f=i.$headers.filter('[data-column="'+g+'"]:last')[0]){switch(e=(""+c[1]).match(/^(1|d|s|o|n)/),e=e?e[0]:""){case"1":case"d":e=1;break;case"s":e=h||0;break;case"o":d=f.order[(h||0)%(i.sortReset?3:2)],e=0===d?1:1===d?0:2;break;case"n":f.count=f.count+1,e=f.order[f.count%(i.sortReset?3:2)];break;default:e=0}h=0===b?e:h,d=[g,parseInt(e,10)||0],i.sortList.push(d),e=a.inArray(d[1],f.order),f.count=e>=0?e:d[1]%(i.sortReset?3:2)}})}function q(a,b){return a&&a[b]?a[b].type||"":""}function r(b,c,d){if(b.isUpdating)return setTimeout(function(){r(b,c,d)},50);var e,f,g,h,j,k=b.config,l=!d[k.sortMultiSortKey],m=k.$table;if(m.trigger("sortStart",b),c.count=d[k.sortResetKey]?2:(c.count+1)%(k.sortReset?3:2),k.sortRestart&&(f=c,k.$headers.each(function(){this===f||!l&&a(this).is("."+w.css.sortDesc+",."+w.css.sortAsc)||(this.count=-1)})),f=c.column,l){if(k.sortList=[],null!==k.sortForce)for(e=k.sortForce,g=0;g<e.length;g++)e[g][0]!==f&&k.sortList.push(e[g]);if(h=c.order[c.count],2>h&&(k.sortList.push([f,h]),c.colSpan>1))for(g=1;g<c.colSpan;g++)k.sortList.push([f+g,h])}else{if(k.sortAppend&&k.sortList.length>1)for(g=0;g<k.sortAppend.length;g++)j=w.isValueInArray(k.sortAppend[g][0],k.sortList),j>=0&&k.sortList.splice(j,1);if(w.isValueInArray(f,k.sortList)>=0)for(g=0;g<k.sortList.length;g++)j=k.sortList[g],h=k.$headers.filter('[data-column="'+j[0]+'"]:last')[0],j[0]===f&&(j[1]=h.order[c.count],2===j[1]&&(k.sortList.splice(g,1),h.count=-1));else if(h=c.order[c.count],2>h&&(k.sortList.push([f,h]),c.colSpan>1))for(g=1;g<c.colSpan;g++)k.sortList.push([f+g,h])}if(null!==k.sortAppend)for(e=k.sortAppend,g=0;g<e.length;g++)e[g][0]!==f&&k.sortList.push(e[g]);m.trigger("sortBegin",b),setTimeout(function(){n(b),s(b),i(b),m.trigger("sortEnd",b)},1)}function s(a){var b,e,f,g,h,i,j,k,l,m,n,o=0,p=a.config,r=p.textSorter||"",s=p.sortList,t=s.length,u=a.tBodies.length;if(!p.serverSideSorting&&!d(p.cache)){for(p.debug&&(h=new Date),e=0;u>e;e++)i=p.cache[e].colMax,j=p.cache[e].normalized,j.sort(function(c,d){for(b=0;t>b;b++){if(g=s[b][0],k=s[b][1],o=0===k,p.sortStable&&c[g]===d[g]&&1===t)return c[p.columns].order-d[p.columns].order;if(f=/n/i.test(q(p.parsers,g)),f&&p.strings[g]?(f="boolean"==typeof p.string[p.strings[g]]?(o?1:-1)*(p.string[p.strings[g]]?-1:1):p.strings[g]?p.string[p.strings[g]]||0:0,l=p.numberSorter?p.numberSorter(c[g],d[g],o,i[g],a):w["sortNumeric"+(o?"Asc":"Desc")](c[g],d[g],f,i[g],g,a)):(m=o?c:d,n=o?d:c,l="function"==typeof r?r(m[g],n[g],o,g,a):"object"==typeof r&&r.hasOwnProperty(g)?r[g](m[g],n[g],o,g,a):w["sortNatural"+(o?"Asc":"Desc")](c[g],d[g],g,a,p)),l)return l}return c[p.columns].order-d[p.columns].order});p.debug&&c("Sorting on "+s.toString()+" and dir "+k+" time",h)}}function t(b,c){var d=b[0];d.isUpdating&&b.trigger("updateComplete"),a.isFunction(c)&&c(b[0])}function u(a,b,c){var d=a[0].config.sortList;b!==!1&&!a[0].isProcessing&&d.length?a.trigger("sorton",[d,function(){t(a,c)},!0]):(t(a,c),w.applyWidget(a[0],!1))}function v(b){var c=b.config,f=c.$table;f.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(c.namespace+" ")).bind("sortReset"+c.namespace,function(d,e){d.stopPropagation(),c.sortList=[],n(b),s(b),i(b),a.isFunction(e)&&e(b)}).bind("updateAll"+c.namespace,function(a,d,e){a.stopPropagation(),b.isUpdating=!0,w.refreshWidgets(b,!0,!0),w.restoreHeaders(b),k(b),w.bindEvents(b,c.$headers,!0),v(b),l(b,d,e)}).bind("update"+c.namespace+" updateRows"+c.namespace,function(a,c,d){a.stopPropagation(),b.isUpdating=!0,m(b),l(b,c,d)}).bind("updateCell"+c.namespace,function(d,g,h,i){d.stopPropagation(),b.isUpdating=!0,f.find(c.selectorRemove).remove();var j,k,l,m,n=f.find("tbody"),o=a(g),p=n.index(a.fn.closest?o.closest("tbody"):o.parents("tbody").filter(":first")),q=a.fn.closest?o.closest("tr"):o.parents("tr").filter(":first");g=o[0],n.length&&p>=0&&(l=n.eq(p).find("tr").index(q),m=o.index(),c.cache[p].normalized[l][c.columns].$row=q,k="undefined"==typeof c.extractors[m].id?e(b,g,m):c.extractors[m].format(e(b,g,m),b,g,m),j="no-parser"===c.parsers[m].id?"":c.parsers[m].format(k,b,g,m),c.cache[p].normalized[l][m]=c.ignoreCase&&"string"==typeof j?j.toLowerCase():j,"numeric"===(c.parsers[m].type||"").toLowerCase()&&(c.cache[p].colMax[m]=Math.max(Math.abs(j)||0,c.cache[p].colMax[m]||0)),u(f,h,i))}).bind("addRows"+c.namespace,function(h,i,j,k){if(h.stopPropagation(),b.isUpdating=!0,d(c.cache))m(b),l(b,j,k);else{i=a(i).attr("role","row");var n,o,p,q,r,s,t,v=i.filter("tr").length,w=f.find("tbody").index(i.parents("tbody").filter(":first"));for(c.parsers&&c.parsers.length||g(b),n=0;v>n;n++){for(p=i[n].cells.length,t=[],s={"child":[],"$row":i.eq(n),"order":c.cache[w].normalized.length},o=0;p>o;o++)q="undefined"==typeof c.extractors[o].id?e(b,i[n].cells[o],o):c.extractors[o].format(e(b,i[n].cells[o],o),b,i[n].cells[o],o),r="no-parser"===c.parsers[o].id?"":c.parsers[o].format(q,b,i[n].cells[o],o),t[o]=c.ignoreCase&&"string"==typeof r?r.toLowerCase():r,"numeric"===(c.parsers[o].type||"").toLowerCase()&&(c.cache[w].colMax[o]=Math.max(Math.abs(t[o])||0,c.cache[w].colMax[o]||0));t.push(s),c.cache[w].normalized.push(t)}u(f,j,k)}}).bind("updateComplete"+c.namespace,function(){b.isUpdating=!1}).bind("sorton"+c.namespace,function(c,e,g,j){var k=b.config;c.stopPropagation(),f.trigger("sortStart",this),p(b,e),n(b),k.delayInit&&d(k.cache)&&h(b),f.trigger("sortBegin",this),s(b),i(b,j),f.trigger("sortEnd",this),w.applyWidget(b),a.isFunction(g)&&g(b)}).bind("appendCache"+c.namespace,function(c,d,e){c.stopPropagation(),i(b,e),a.isFunction(d)&&d(b)}).bind("updateCache"+c.namespace,function(d,e){c.parsers&&c.parsers.length||g(b),h(b),a.isFunction(e)&&e(b)}).bind("applyWidgetId"+c.namespace,function(a,d){a.stopPropagation(),w.getWidgetById(d).format(b,c,c.widgetOptions)}).bind("applyWidgets"+c.namespace,function(a,c){a.stopPropagation(),w.applyWidget(b,c)}).bind("refreshWidgets"+c.namespace,function(a,c,d){a.stopPropagation(),w.refreshWidgets(b,c,d)}).bind("destroy"+c.namespace,function(a,c,d){a.stopPropagation(),w.destroy(b,c,d)}).bind("resetToLoadState"+c.namespace,function(){w.refreshWidgets(b,!0,!0),c=a.extend(!0,w.defaults,c.originalSettings),b.hasInitialized=!1,w.setup(b,c)})}var w=this;w.version="2.17.7",w.parsers=[],w.widgets=[],w.defaults={"theme":"default","widthFixed":!1,"showProcessing":!1,"headerTemplate":"{content}","onRenderTemplate":null,"onRenderHeader":null,"cancelSelection":!0,"tabIndex":!0,"dateFormat":"mmddyyyy","sortMultiSortKey":"shiftKey","sortResetKey":"ctrlKey","usNumberFormat":!0,"delayInit":!1,"serverSideSorting":!1,"headers":{},"ignoreCase":!0,"sortForce":null,"sortList":[],"sortAppend":null,"sortStable":!1,"sortInitialOrder":"asc","sortLocaleCompare":!1,"sortReset":!1,"sortRestart":!1,"emptyTo":"bottom","stringTo":"max","textExtraction":"basic","textAttribute":"data-text","textSorter":null,"numberSorter":null,"widgets":[],"widgetOptions":{"zebra":["even","odd"]},"initWidgets":!0,"initialized":null,"tableClass":"","cssAsc":"","cssDesc":"","cssNone":"","cssHeader":"","cssHeaderRow":"","cssProcessing":"","cssChildRow":"tablesorter-childRow","cssIcon":"tablesorter-icon","cssInfoBlock":"tablesorter-infoOnly","selectorHeaders":"> thead th, > thead td","selectorSort":"th, td","selectorRemove":".remove-me","debug":!1,"headerList":[],"empties":{},"strings":{},"parsers":[]},w.css={"table":"tablesorter","cssHasChild":"tablesorter-hasChildRow","childRow":"tablesorter-childRow","header":"tablesorter-header","headerRow":"tablesorter-headerRow","headerIn":"tablesorter-header-inner","icon":"tablesorter-icon","info":"tablesorter-infoOnly","processing":"tablesorter-processing","sortAsc":"tablesorter-headerAsc","sortDesc":"tablesorter-headerDesc","sortNone":"tablesorter-headerUnSorted"},w.language={"sortAsc":"Ascending sort applied, ","sortDesc":"Descending sort applied, ","sortNone":"No sort applied, ","nextAsc":"activate to apply an ascending sort","nextDesc":"activate to apply a descending sort","nextNone":"activate to remove the sort"},w.log=b,w.benchmark=c,w.construct=function(b){return this.each(function(){var c=this,d=a.extend(!0,{},w.defaults,b);d.originalSettings=b,!c.hasInitialized&&w.buildTable&&"TABLE"!==this.tagName?w.buildTable(c,d):w.setup(c,d)})},w.setup=function(c,d){if(!c||!c.tHead||0===c.tBodies.length||c.hasInitialized===!0)return d.debug?b("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var e="",f=a(c),i=a.metadata;c.hasInitialized=!1,c.isProcessing=!0,c.config=d,a.data(c,"tablesorter",d),d.debug&&a.data(c,"startoveralltimer",new Date),d.supportsDataObject=function(a){return a[0]=parseInt(a[0],10),a[0]>1||1===a[0]&&parseInt(a[1],10)>=4}(a.fn.jquery.split(".")),d.string={"max":1,"min":-1,"emptyMin":1,"emptyMax":-1,"zero":0,"none":0,"null":0,"top":!0,"bottom":!1},/tablesorter\-/.test(f.attr("class"))||(e=""!==d.theme?" tablesorter-"+d.theme:""),d.table=c,d.$table=f.addClass(w.css.table+" "+d.tableClass+e).attr("role","grid"),d.$headers=f.find(d.selectorHeaders),d.namespace=d.namespace?"."+d.namespace.replace(/\W/g,""):".tablesorter"+Math.random().toString(16).slice(2),d.$table.children().children("tr").attr("role","row"),d.$tbodies=f.children("tbody:not(."+d.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),d.$table.find("caption").length&&d.$table.attr("aria-labelledby","theCaption"),d.widgetInit={},d.textExtraction=d.$table.attr("data-text-extraction")||d.textExtraction||"basic",k(c),o(c),g(c),d.totalRows=0,d.delayInit||h(c),w.bindEvents(c,d.$headers,!0),v(c),d.supportsDataObject&&"undefined"!=typeof f.data().sortlist?d.sortList=f.data().sortlist:i&&f.metadata()&&f.metadata().sortlist&&(d.sortList=f.metadata().sortlist),w.applyWidget(c,!0),d.sortList.length>0?f.trigger("sorton",[d.sortList,{},!d.initWidgets,!0]):(n(c),d.initWidgets&&w.applyWidget(c,!1)),d.showProcessing&&f.unbind("sortBegin"+d.namespace+" sortEnd"+d.namespace).bind("sortBegin"+d.namespace+" sortEnd"+d.namespace,function(a){clearTimeout(d.processTimer),w.isProcessing(c),"sortBegin"===a.type&&(d.processTimer=setTimeout(function(){w.isProcessing(c,!0)},500))}),c.hasInitialized=!0,c.isProcessing=!1,d.debug&&w.benchmark("Overall initialization time",a.data(c,"startoveralltimer")),f.trigger("tablesorter-initialized",c),"function"==typeof d.initialized&&d.initialized(c)},w.getColumnData=function(b,c,d,e){if("undefined"!=typeof c&&null!==c){b=a(b)[0];var f,g,h,i=b.config;if(c[d])return e?c[d]:c[i.$headers.index(i.$headers.filter('[data-column="'+d+'"]:last'))];for(h in c)if("string"==typeof h&&(g=e?i.$headers.eq(d).filter(h):i.$headers.filter('[data-column="'+d+'"]:last').filter(h),g.length))return c[h];return f}},w.computeColumnIndex=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=[],q={},r=0;for(c=0;c<b.length;c++)for(i=b[c].cells,d=0;d<i.length;d++){for(h=i[d],g=a(h),j=h.parentNode.rowIndex,k=j+"-"+g.index(),l=h.rowSpan||1,m=h.colSpan||1,"undefined"==typeof p[j]&&(p[j]=[]),e=0;e<p[j].length+1;e++)if("undefined"==typeof p[j][e]){n=e;break}for(q[k]=n,r=Math.max(n,r),g.attr({"data-column":n}),e=j;j+l>e;e++)for("undefined"==typeof p[e]&&(p[e]=[]),o=p[e],f=n;n+m>f;f++)o[f]="x"}return r+1},w.isProcessing=function(b,c,d){b=a(b);var e=b[0].config,f=d||b.find("."+w.css.header);c?("undefined"!=typeof d&&e.sortList.length>0&&(f=f.filter(function(){return this.sortDisabled?!1:w.isValueInArray(parseFloat(a(this).attr("data-column")),e.sortList)>=0})),b.add(f).addClass(w.css.processing+" "+e.cssProcessing)):b.add(f).removeClass(w.css.processing+" "+e.cssProcessing)},w.processTbody=function(b,c,d){b=a(b)[0];var e;return d?(b.isProcessing=!0,c.before('<span class="tablesorter-savemyplace"/>'),e=a.fn.detach?c.detach():c.remove()):(e=a(b).find("span.tablesorter-savemyplace"),c.insertAfter(e),e.remove(),void(b.isProcessing=!1))},w.clearTableBody=function(b){a(b)[0].config.$tbodies.children().detach()},w.bindEvents=function(b,c,e){b=a(b)[0];var f,g=b.config;e!==!0&&(g.$extraHeaders=g.$extraHeaders?g.$extraHeaders.add(c):c),c.find(g.selectorSort).add(c.filter(g.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(g.namespace+" ")).bind("mousedown mouseup sort keyup ".split(" ").join(g.namespace+" "),function(e,i){var j,k=e.type;if(!(1!==(e.which||e.button)&&!/sort|keyup/.test(k)||"keyup"===k&&13!==e.which||"mouseup"===k&&i!==!0&&(new Date).getTime()-f>250)){if("mousedown"===k)return f=(new Date).getTime(),/(input|select|button|textarea)/i.test(e.target.tagName)?"":!g.cancelSelection;g.delayInit&&d(g.cache)&&h(b),j=a.fn.closest?a(this).closest("th, td")[0]:/TH|TD/.test(this.tagName)?this:a(this).parents("th, td")[0],j=g.$headers[c.index(j)],j.sortDisabled||r(b,j,e)}}),g.cancelSelection&&c.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none","MozUserSelect":"none"})},w.restoreHeaders=function(b){var c=a(b)[0].config;c.$table.find(c.selectorHeaders).each(function(b){a(this).find("."+w.css.headerIn).length&&a(this).html(c.headerContent[b])})},w.destroy=function(b,c,d){if(b=a(b)[0],b.hasInitialized){w.refreshWidgets(b,!0,!0);var e=a(b),f=b.config,g=e.find("thead:first"),h=g.find("tr."+w.css.headerRow).removeClass(w.css.headerRow+" "+f.cssHeaderRow),i=e.find("tfoot:first > tr").children("th, td");c===!1&&a.inArray("uitheme",f.widgets)>=0&&(e.trigger("applyWidgetId",["uitheme"]),e.trigger("applyWidgetId",["zebra"])),g.find("tr").not(h).remove(),e.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(f.namespace+" ")),f.$headers.add(i).removeClass([w.css.header,f.cssHeader,f.cssAsc,f.cssDesc,w.css.sortAsc,w.css.sortDesc,w.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),h.find(f.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(f.namespace+" ")),w.restoreHeaders(b),e.toggleClass(w.css.table+" "+f.tableClass+" tablesorter-"+f.theme,c===!1),b.hasInitialized=!1,delete b.config.cache,"function"==typeof d&&d(b)}},w.regex={"chunk":/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,"chunks":/(^\\0|\\0$)/,"hex":/^0x[0-9a-f]+$/i},w.sortNatural=function(a,b){if(a===b)return 0;var c,d,e,f,g,h,i,j,k=w.regex;if(k.hex.test(b)){if(d=parseInt(a.match(k.hex),16),f=parseInt(b.match(k.hex),16),f>d)return-1;if(d>f)return 1}for(c=a.replace(k.chunk,"\\0$1\\0").replace(k.chunks,"").split("\\0"),e=b.replace(k.chunk,"\\0$1\\0").replace(k.chunks,"").split("\\0"),j=Math.max(c.length,e.length),i=0;j>i;i++){if(g=isNaN(c[i])?c[i]||0:parseFloat(c[i])||0,h=isNaN(e[i])?e[i]||0:parseFloat(e[i])||0,isNaN(g)!==isNaN(h))return isNaN(g)?1:-1;if(typeof g!=typeof h&&(g+="",h+=""),h>g)return-1;if(g>h)return 1}return 0},w.sortNaturalAsc=function(a,b,c,d,e){if(a===b)return 0;var f=e.string[e.empties[c]||e.emptyTo];return""===a&&0!==f?"boolean"==typeof f?f?-1:1:-f||-1:""===b&&0!==f?"boolean"==typeof f?f?1:-1:f||1:w.sortNatural(a,b)},w.sortNaturalDesc=function(a,b,c,d,e){if(a===b)return 0;var f=e.string[e.empties[c]||e.emptyTo];return""===a&&0!==f?"boolean"==typeof f?f?-1:1:f||1:""===b&&0!==f?"boolean"==typeof f?f?1:-1:-f||-1:w.sortNatural(b,a)},w.sortText=function(a,b){return a>b?1:b>a?-1:0},w.getTextValue=function(a,b,c){if(c){var d,e=a?a.length:0,f=c+b;for(d=0;e>d;d++)f+=a.charCodeAt(d);return b*f}return 0},w.sortNumericAsc=function(a,b,c,d,e,f){if(a===b)return 0;var g=f.config,h=g.string[g.empties[e]||g.emptyTo];return""===a&&0!==h?"boolean"==typeof h?h?-1:1:-h||-1:""===b&&0!==h?"boolean"==typeof h?h?1:-1:h||1:(isNaN(a)&&(a=w.getTextValue(a,c,d)),isNaN(b)&&(b=w.getTextValue(b,c,d)),a-b)},w.sortNumericDesc=function(a,b,c,d,e,f){if(a===b)return 0;var g=f.config,h=g.string[g.empties[e]||g.emptyTo];return""===a&&0!==h?"boolean"==typeof h?h?-1:1:h||1:""===b&&0!==h?"boolean"==typeof h?h?1:-1:-h||-1:(isNaN(a)&&(a=w.getTextValue(a,c,d)),isNaN(b)&&(b=w.getTextValue(b,c,d)),b-a)},w.sortNumeric=function(a,b){return a-b},w.characterEquivalents={"a":"\xe1\xe0\xe2\xe3\xe4\u0105\xe5","A":"\xc1\xc0\xc2\xc3\xc4\u0104\xc5","c":"\xe7\u0107\u010d","C":"\xc7\u0106\u010c","e":"\xe9\xe8\xea\xeb\u011b\u0119","E":"\xc9\xc8\xca\xcb\u011a\u0118","i":"\xed\xec\u0130\xee\xef\u0131","I":"\xcd\xcc\u0130\xce\xcf","o":"\xf3\xf2\xf4\xf5\xf6","O":"\xd3\xd2\xd4\xd5\xd6","ss":"\xdf","SS":"\u1e9e","u":"\xfa\xf9\xfb\xfc\u016f","U":"\xda\xd9\xdb\xdc\u016e"},w.replaceAccents=function(a){var b,c="[",d=w.characterEquivalents;if(!w.characterRegex){w.characterRegexArray={};for(b in d)"string"==typeof b&&(c+=d[b],w.characterRegexArray[b]=new RegExp("["+d[b]+"]","g"));w.characterRegex=new RegExp(c+"]")}if(w.characterRegex.test(a))for(b in d)"string"==typeof b&&(a=a.replace(w.characterRegexArray[b],b));return a},w.isValueInArray=function(a,b){var c,d=b.length;for(c=0;d>c;c++)if(b[c][0]===a)return c;return-1},w.addParser=function(a){var b,c=w.parsers.length,d=!0;for(b=0;c>b;b++)w.parsers[b].id.toLowerCase()===a.id.toLowerCase()&&(d=!1);d&&w.parsers.push(a)},w.getParserById=function(a){if("false"==a)return!1;var b,c=w.parsers.length;for(b=0;c>b;b++)if(w.parsers[b].id.toLowerCase()===a.toString().toLowerCase())return w.parsers[b];
return!1},w.addWidget=function(a){w.widgets.push(a)},w.hasWidget=function(b,c){return b=a(b),b.length&&b[0].config&&b[0].config.widgetInit[c]||!1},w.getWidgetById=function(a){var b,c,d=w.widgets.length;for(b=0;d>b;b++)if(c=w.widgets[b],c&&c.hasOwnProperty("id")&&c.id.toLowerCase()===a.toLowerCase())return c},w.applyWidget=function(b,d){b=a(b)[0];var e,f,g,h=b.config,i=h.widgetOptions,j=[];d!==!1&&b.hasInitialized&&(b.isApplyingWidgets||b.isUpdating)||(h.debug&&(e=new Date),h.widgets.length&&(b.isApplyingWidgets=!0,h.widgets=a.grep(h.widgets,function(b,c){return a.inArray(b,h.widgets)===c}),a.each(h.widgets||[],function(a,b){g=w.getWidgetById(b),g&&g.id&&(g.priority||(g.priority=10),j[a]=g)}),j.sort(function(a,b){return a.priority<b.priority?-1:a.priority===b.priority?0:1}),a.each(j,function(c,e){e&&((d||!h.widgetInit[e.id])&&(h.widgetInit[e.id]=!0,e.hasOwnProperty("options")&&(i=b.config.widgetOptions=a.extend(!0,{},e.options,i)),e.hasOwnProperty("init")&&e.init(b,e,h,i)),!d&&e.hasOwnProperty("format")&&e.format(b,h,i,!1))})),setTimeout(function(){b.isApplyingWidgets=!1},0),h.debug&&(f=h.widgets.length,c("Completed "+(d===!0?"initializing ":"applying ")+f+" widget"+(1!==f?"s":""),e)))},w.refreshWidgets=function(c,d,e){c=a(c)[0];var f,g=c.config,h=g.widgets,i=w.widgets,j=i.length;for(f=0;j>f;f++)i[f]&&i[f].id&&(d||a.inArray(i[f].id,h)<0)&&(g.debug&&b('Refeshing widgets: Removing "'+i[f].id+'"'),i[f].hasOwnProperty("remove")&&g.widgetInit[i[f].id]&&(i[f].remove(c,g,g.widgetOptions),g.widgetInit[i[f].id]=!1));e!==!0&&w.applyWidget(c,d)},w.getData=function(b,c,d){var e,f,g="",h=a(b);return h.length?(e=a.metadata?h.metadata():!1,f=" "+(h.attr("class")||""),"undefined"!=typeof h.data(d)||"undefined"!=typeof h.data(d.toLowerCase())?g+=h.data(d)||h.data(d.toLowerCase()):e&&"undefined"!=typeof e[d]?g+=e[d]:c&&"undefined"!=typeof c[d]?g+=c[d]:" "!==f&&f.match(" "+d+"-")&&(g=f.match(new RegExp("\\s"+d+"-([\\w-]+)"))[1]||""),a.trim(g)):""},w.formatFloat=function(b,c){if("string"!=typeof b||""===b)return b;var d,e=c&&c.config?c.config.usNumberFormat!==!1:"undefined"!=typeof c?c:!0;return b=e?b.replace(/,/g,""):b.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(b)&&(b=b.replace(/^\s*\(([.\d]+)\)/,"-$1")),d=parseFloat(b),isNaN(d)?a.trim(b):d},w.isDigit=function(a){return isNaN(a)?/^[\-+(]?\d+[)]?$/.test(a.toString().replace(/[,.'"\s]/g,"")):!0}}});var b=a.tablesorter;a.fn.extend({"tablesorter":b.construct}),b.addParser({"id":"no-parser","is":function(){return!1},"format":function(){return""},"type":"text"}),b.addParser({"id":"text","is":function(){return!0},"format":function(c,d){var e=d.config;return c&&(c=a.trim(e.ignoreCase?c.toLocaleLowerCase():c),c=e.sortLocaleCompare?b.replaceAccents(c):c),c},"type":"text"}),b.addParser({"id":"digit","is":function(a){return b.isDigit(a)},"format":function(c,d){var e=b.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),d);return c&&"number"==typeof e?e:c?a.trim(c&&d.config.ignoreCase?c.toLocaleLowerCase():c):c},"type":"numeric"}),b.addParser({"id":"currency","is":function(a){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((a||"").replace(/[+\-,. ]/g,""))},"format":function(c,d){var e=b.formatFloat((c||"").replace(/[^\w,. \-()]/g,""),d);return c&&"number"==typeof e?e:c?a.trim(c&&d.config.ignoreCase?c.toLocaleLowerCase():c):c},"type":"numeric"}),b.addParser({"id":"ipAddress","is":function(a){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(a)},"format":function(a,c){var d,e=a?a.split("."):"",f="",g=e.length;for(d=0;g>d;d++)f+=("00"+e[d]).slice(-3);return a?b.formatFloat(f,c):a},"type":"numeric"}),b.addParser({"id":"url","is":function(a){return/^(https?|ftp|file):\/\//.test(a)},"format":function(b){return b?a.trim(b.replace(/(https?|ftp|file):\/\//,"")):b},"type":"text"}),b.addParser({"id":"isoDate","is":function(a){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(a)},"format":function(a,c){return a?b.formatFloat(""!==a?new Date(a.replace(/-/g,"/")).getTime()||a:"",c):a},"type":"numeric"}),b.addParser({"id":"percent","is":function(a){return/(\d\s*?%|%\s*?\d)/.test(a)&&a.length<15},"format":function(a,c){return a?b.formatFloat(a.replace(/%/g,""),c):a},"type":"numeric"}),b.addParser({"id":"usLongDate","is":function(a){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(a)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(a)},"format":function(a,c){return a?b.formatFloat(new Date(a.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||a,c):a},"type":"numeric"}),b.addParser({"id":"shortDate","is":function(a){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((a||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},"format":function(a,c,d,e){if(a){var f=c.config,g=f.$headers.filter("[data-column="+e+"]:last"),h=g.length&&g[0].dateFormat||b.getData(g,b.getColumnData(c,f.headers,e),"dateFormat")||f.dateFormat;a=a.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===h?a=a.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===h?a=a.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===h&&(a=a.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return a?b.formatFloat(new Date(a).getTime()||a,c):a},"type":"numeric"}),b.addParser({"id":"time","is":function(a){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(a)},"format":function(a,c){return a?b.formatFloat(new Date("2000/01/01 "+a.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||a,c):a},"type":"numeric"}),b.addParser({"id":"metadata","is":function(){return!1},"format":function(b,c,d){var e=c.config,f=e.parserMetadataName?e.parserMetadataName:"sortValue";return a(d).metadata()[f]},"type":"numeric"}),b.addWidget({"id":"zebra","priority":90,"format":function(c,d,e){var f,g,h,i,j,k,l,m,n=new RegExp(d.cssChildRow,"i"),o=d.$tbodies;for(d.debug&&(k=new Date),l=0;l<o.length;l++)f=o.eq(l),m=f.children("tr").length,m>1&&(i=0,g=f.children("tr:visible").not(d.selectorRemove),g.each(function(){h=a(this),n.test(this.className)||i++,j=i%2===0,h.removeClass(e.zebra[j?1:0]).addClass(e.zebra[j?0:1])}));d.debug&&b.benchmark("Applying Zebra widget",k)},"remove":function(b,c,d){var e,f,g=c.$tbodies,h=(d.zebra||["even","odd"]).join(" ");for(e=0;e<g.length;e++)f=a.tablesorter.processTbody(b,g.eq(e),!0),f.children().removeClass(h),a.tablesorter.processTbody(b,f,!1)}})}(jQuery),function(){function a(a){var c=b;a.find("th").each(function(a,b){var d=AJS.$(b);c.headers[a]={},d.hasClass("aui-table-column-unsortable")?c.headers[a].sorter=!1:(d.attr("tabindex","0"),d.wrapInner("<span class='aui-table-header-content'/>"),d.hasClass("aui-table-column-issue-key")&&(c.headers[a].sorter="issue-key"))}),a.tablesorter(c)}var b={"sortMultiSortKey":"","headers":{},"debug":!1};AJS.tablessortable={"setup":function(){AJS.$.tablesorter.addParser({"id":"issue-key","is":function(){return!1},"format":function(a){var b=a.split("-"),c=b[0],d=b[1],e="..........",f="000000",g=(c+e).slice(0,e.length);return g+=(f+d).slice(-f.length)},"type":"text"}),AJS.$.tablesorter.addParser({"id":"textSortAttributeParser","is":function(a,b,c){return c.hasAttribute("data-sort-value")&&(!c.hasAttribute("data-sort-type")||"text"===c.getAttribute("data-sort-type"))},"format":function(a,b,c){return c.getAttribute("data-sort-value")},"type":"text"}),AJS.$.tablesorter.addParser({"id":"numericSortAttributeParser","is":function(a,b,c){return"numeric"===c.getAttribute("data-sort-type")&&c.hasAttribute("data-sort-value")},"format":function(a,b,c){return c.getAttribute("data-sort-value")},"type":"numeric"}),AJS.$(".aui-table-sortable").each(function(){a(AJS.$(this))})},"setTableSortable":function(b){a(b)}},AJS.$(AJS.tablessortable.setup)}(),function(a){"use strict";a.fn.tooltip=function(b){if("string"==typeof b)return this.tipsy(b),d;var c=a.extend({},a.fn.tooltip.defaults,b),d=this.tipsy(c);if(c.hideOnClick&&("hover"==c.trigger||!c.trigger&&"hover"==this.tipsy.defaults.trigger)){var e=function(){a(this).tipsy("hide")};c.live?a(this.context).on("click.tipsy",this.selector,e):this.bind("click.tipsy",e)}return d},a.fn.tooltip.defaults={"opacity":1,"offset":1,"delayIn":500,"hoverable":!0,"hideOnClick":!0}}(AJS.$),define("aui/form-validation/validator-register",[],function(){"use strict";function a(a){var b=!1;return a.some(function(a){var e=-1!==c.inArray(a,d);return e&&(b=a),e}),b}function b(b,c){var d;if("string"==typeof b)d=b;else{var f=a(b);if(f)return AJS.warn('Validators cannot be registered with the argument "'+f+'", as it is a reserved argument.'),!1;d="[data-aui-validation-"+b.join("],[data-aui-validation-")+"]"}var g={"validatorFunction":c,"validatorTrigger":d};return e.push(g),g}var c=AJS.$,d=["displayfield","watchfield","when","novalidate","state"],e=[];return{"register":b,"validators":function(){return e}}}),function(a){"use strict";define("aui/form-validation/basic-validators",["./validator-register"],function(b){return a(AJS,AJS.$,b)})}(function(a,b,c){"use strict";function d(a){return"password"===a.attr("type")}function e(a,b){var c=a.match(b);if(!c)return!1;var d=a===c[0];return d}function f(b,c,d){var e,f=void 0!==a.I18n.keys;e=f?a.I18n.keys["aui.validation.message."+b]:g[b];var h=d;d||(h=[c(b)]);var i,j=c(b+"-msg");return i=j?[j].concat(h):[e].concat(h),a.format.apply(null,i)}c.register(["maxlength","minlength"],function(a){var b=f("minlength",a.args),c=f("maxlength",a.args);a.$el.val().length<a.args("minlength")?a.invalidate(b):a.$el.val().length>a.args("maxlength")?a.invalidate(c):a.validate()}),c.register(["matchingfield"],function(a){var c=a.$el.val(),e=b("#"+a.args("matchingfield")),g=e.val(),h=f("matchingfield",a.args,[c,g]),i=d(a.$el)||d(e);i&&(h=f("matchingfield-novalue",a.args)),c&&g&&g!==c?a.invalidate(h):a.validate()}),c.register(["doesnotcontain"],function(a){var b=f("doesnotcontain",a.args);-1===a.$el.val().indexOf(a.args("doesnotcontain"))?a.validate():a.invalidate(b)}),c.register(["pattern"],function(a){var b=f("pattern",a.args);e(a.$el.val(),new RegExp(a.args("pattern"),"i"))?a.validate():a.invalidate(b)}),c.register(["required"],function(a){var b=f("required",a.args);a.$el.val()?a.validate():a.invalidate(b)}),c.register(["min","max"],function(a){var b=f("validnumber",a.args),c=f("min",a.args),d=f("max",a.args),e=parseInt(a.$el.val());return isNaN(e)?void a.invalidate(b):void(a.args("min")&&e<parseInt(a.args("min"))?a.invalidate(c):a.args("max")&&e>parseInt(a.args("max"))?a.invalidate(d):a.validate())}),c.register(["dateformat"],function(a){var b=a.args("dateformat"),c=f("dateformat",a.args),d={"Y":"[0-9]{4}","y":"[0-9]{2}","m":"(11|12|0{0,1}[0-9])","M":"[Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec]","D":"[Mon|Tue|Wed|Thu|Fri|Sat|Sun]","d":"([0-2]{0,1}[0-9]{1})|(30|31)"},g=b.split(""),h="";g.forEach(function(a){var b=d.hasOwnProperty(a);h+=b?d[a]:a});var i=new RegExp(h+"$","i"),j=e(a.$el.val(),i);j?a.validate():a.invalidate(c)}),c.register(["minchecked","maxchecked"],function(a){var b=a.$el.find(":checked").length,c=!a.args("minchecked")||b>=a.args("minchecked"),d=!a.args("maxchecked")||b<=a.args("maxchecked"),e=f("minchecked",a.args),g=f("maxchecked",a.args);c&&d?a.validate():c?d||a.invalidate(g):a.invalidate(e)});var g={"minlength":a.I18n.getText("aui.validation.message.minlength"),"maxlength":a.I18n.getText("aui.validation.message.maxlength"),"matchingfield":a.I18n.getText("aui.validation.message.matchingfield"),"matchingfield-novalue":a.I18n.getText("aui.validation.message.matchingfield-novalue"),"doesnotcontain":a.I18n.getText("aui.validation.message.doesnotcontain"),"pattern":a.I18n.getText("aui.validation.message.pattern"),"required":a.I18n.getText("aui.validation.message.required"),"validnumber":a.I18n.getText("aui.validation.message.validnumber"),"min":a.I18n.getText("aui.validation.message.min"),"max":a.I18n.getText("aui.validation.message.max"),"dateformat":a.I18n.getText("aui.validation.message.dateformat"),"minchecked":a.I18n.getText("aui.validation.message.minchecked"),"maxchecked":a.I18n.getText("aui.validation.message.maxchecked")}}),function(a){"use strict";define("aui/form-notification",[],function(){return a(AJS.$,window.skate)})}(function(a,b){"use strict";function c(a){d(a)||(f(a),h(a),o(a),G(a)),V.push(a)}function d(a){return a.hasClass(K)}function e(){return a('<span class="aui-icon aui-icon-small '+L+'"/>')}function f(a){a.addClass(K),g(a)}function g(a){var b=e();a.after(b)}function h(a){D(a).tipsy({"gravity":C(a),"title":function(){return j(a)},"trigger":"manual","offset":i(a)?X:Y,"opacity":W,"className":function(){return"aui-form-notification-tooltip "+m(a)},"html":!0})}function i(a){return-1!==Z.indexOf(a.attr("type"))}function j(a){var b=n(a),c=b?a.attr(b):"";return k(c)}function k(a){if(""===a)return a;var b=l(a);return 1===b.length?b[0]:"<ul><li>"+b.join("</li><li>")+"</li></ul>"}function l(a){var b;try{b=JSON.parse(a)}catch(c){b=[a]}return b}function m(a){var b=n(a);return b===S?N:b===R?O:void 0}function n(a){var b;return U.some(function(c){return a.is("["+c+"]")?(b=c,!0):void 0}),b}function o(a){p(a)&&v(a)}function p(a){return a.is(":aui-focusable")}function q(a){return""!==j(a)}function r(a){D(a).tipsy("show"),p(a)&&B(a)}function s(a){D(a).tipsy("hide")}function t(){document.addEventListener("focus",function(b){V.forEach(function(c){var d=a(c),e=A(d);if(p(d)){var f=e&&a.contains(e[0],b.target),g=d.is(b.target),h=u(b,d);g||h?r(d):e&&!f&&s(d)}})},!0)}function u(b,c){return a(b.target).closest(c).length>0}function v(a){a.on("keydown",function(b){if(w(b)&&q(a)){var c=y(a);c.length&&(c.focus(),b.preventDefault())}})}function w(a){return a.keyCode===AJS.keyCode.TAB&&!a.shiftKey&&!a.altKey}function x(a){return a.keyCode===AJS.keyCode.TAB&&a.shiftKey}function y(a){return A(a).find(":aui-tabbable").first()}function z(a){return A(a).find(":aui-tabbable").last()}function A(a){var b=D(a);return b.data("tipsy")?b.data("tipsy").$tip:void 0}function B(a){var b=A(a);b.on("keydown",function(b){var c=F(z(a)),d=F(y(a));w(b)&&c&&c&&a.focus(),x(b)&&d&&d&&(a.focus(),b.preventDefault())})}function C(a){var b=a.data(J)||"side",c={"side":"w","top":"se","bottom":"ne"},d=c[b];return d||(d="w",AJS.warn('Invalid notification position: "'+b+'". Valid options are "side", "bottom, "top"')),d}function D(a){return E(a)}function E(a){return a.next("."+L)}function F(b){var c=b instanceof a?b[0]:b;return c&&c===document.activeElement}function G(b){var c=a(b);if(d(c)){var e=n(c),f=e===Q;H(c,f);var g=!e;if(g)return void s(c);var h=j(c),i=a.contains(c[0],document.activeElement),k=i||F(c)||!p(c);k&&h?r(c):s(c)}}function H(a,b){b?E(a).addClass("aui-icon-wait"):E(a).removeClass("aui-icon-wait")}var I="aui-form-notification",J=I+"-position",K="_aui-form-notification-initialised",L="aui-icon-notification",M=I+"-tooltip",N=M+"-error",O=M+"-info",P="data-aui-notification-",Q=P+"wait",R=P+"info",S=P+"error",T=P+"success",U=[S,T,Q,R],V=[],W=1,X=9,Y=3,Z=["text","url","email","tel","password"];t(),document.addEventListener("mousedown",function(b){var c=a(b.target).is("a");if(!c){var d=a(b.target).closest(".aui-form-notification-tooltip").length>0;if(!d){var e=a("[data-aui-notification-field]");e.each(function(){var c=a(this),d=c.is(b.target),e=u(b,c);d||e||s(c),p(c)&&s(c)})}}}),b("data-aui-notification-field",{"attached":function(b){c(a(b))},"attributes":function(){var a={};return U.forEach(function(b){a[b]=G}),a}(),"type":b.types.ATTR})}),function(a){"use strict";define("aui/form-validation",["./form-validation/validator-register","./form-validation/basic-validators","./form-notification"],function(b){return a(AJS.$,window.skate,b)})}(function(a,b,c){"use strict";function d(a){return a.hasClass(S)}function e(a){d(a)||(f(a),g(a),h(a),t(a,Q))}function f(a){A(a).attr("data-aui-notification-field","")}function g(a){a.addClass(S)}function h(a){i(a),j(a)}function i(a){var b,c=function(){a.trigger("aui-stop-typing")};a.on("keyup",function(){clearTimeout(b),b=setTimeout(c,1500)})}function j(a){var b=l(a,"when"),c=l(a,"watchfield"),d=c?a.add("#"+c):a;d.on(b,k(a))}function k(a){return function(){var b=l(a,"novalidate");b||m(a)}}function l(a,b){var c={"when":"change"},d=a.data(K+b);return d||(d=c[b]),d}function m(b){n(b);var c=p(b);t(b,P);var d=q(b,c);a.when.apply(a,d).done(function(){t(b,O)})}function n(a){v(A(a),"none")}function o(){return c.validators()}function p(a){var b=[];return o().forEach(function(c,d){var e=c.validatorTrigger,f=a.is(e);f&&b.push(d)}),b}function q(b,c){var d=[];return c.forEach(function(c){var e=o()[c].validatorFunction,f=new a.Deferred,g=r(b,f);e(g),d.push(f)}),d}function r(a,b){return{"validate":function(){b.resolve()},"invalidate":function(c){t(a,N,c),b.reject()},"args":s(a),"$el":a}}function s(a){return function(b){return a.data(K+b)}}function t(b,c,d){if(b.attr("data-"+M,c),c!==Q){b.trigger(a.Event(T));var e=A(b),f={};f[P]="wait",f[N]="error",f[O]="success";var g=f[c];c===P?u(b):v(e,g,d)}}function u(a){setTimeout(function(){var b=B(a)===P;b&&v(a,"wait")},500)}function v(a,b,c){var d=y(a);w(a);var e="success"===b&&!d;if(!e)if("none"===b)x(a,"error");else{var f=a.attr(L+b)||"[]",g=c?z(c,f):"";a.attr(L+b,g)}}function w(a){x(a,"wait"),x(a,"success")}function x(a,b){a.removeAttr(L+b)}function y(a){return a.is("["+L+"wait]")}function z(a,b){var c=JSON.parse(b),d=c.concat([a]),e=JSON.stringify(d);return e}function A(b){var c=l(b,"displayfield"),d=void 0===c;return d?b:a("#"+c)}function B(a){return a.attr("data-"+M)}function C(b){b=a(b),k(b)()}function D(a,b){b.preventDefault();var c=E(a)===P;c?a.one(T,function(){a.trigger("submit")}):a.trigger("submit")}function E(a){var b=a.find("."+S),c=F(b),d=G(c);return d}function F(b){var c=a.map(b,function(b){return B(a(b))});return c}function G(a){var b=-1!==a.indexOf(N),c=-1!==a.indexOf(Q),d=-1!==a.indexOf(P),e=-1!==a.indexOf(O);return b?N:c?Q:d?P:e?O:void 0}function H(b){var c=J(b,Q);c.each(function(b,c){U.validate(a(c))})}function I(a){var b=J(a,N).first();b.focus()}function J(a,b){var c="[data-"+M+"="+b+"]";return a.find(c)}var K="aui-validation-",L="data-aui-notification-",M="aui-validation-state",N="invalid",O="valid",P="validating",Q="unvalidated",R="data-aui-validation-field",S="_aui-form-validation-initialised",T="_aui-internal-field-state-changed";a(document).on("submit",function(b){var c=b.target,d=a(c),e=E(d);if(e===Q)H(d),D(d,b);else if(e===P)D(d,b);else if(e===N)b.preventDefault(),I(d);else if(e===O){var f=a.Event("aui-valid-submit");d.trigger(f);var g=f.isDefaultPrevented();g&&b.preventDefault()}});var U={"register":c.register,"validate":C};return b(R,{"attached":function(c){var d=a(c);e(d),b.init(c)},"type":b.types.ATTR}),U}),function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{"each2":function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function c(a){var b,c,d,e;if(!a||a.length<1)return a;for(b="",c=0,d=a.length;d>c;c++)e=a.charAt(c),b+=N[e]||e;return b}function d(a,b){for(var c=0,d=b.length;d>c;c+=1)if(f(a,b[c]))return c;return-1}function e(){var b=a(M);b.appendTo("body");var c={"width":b.width()-b[0].clientWidth,"height":b.height()-b[0].clientHeight};return b.remove(),c}function f(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?a+""==c+"":c.constructor===String?c+""==a+"":!1}function g(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function h(a){return a.outerWidth(!1)-a.width()}function i(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function j(c){c.on("mousemove",function(c){var d=L;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function k(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function l(a){var b,c=!1;return function(){return c===!1&&(b=a(),c=!0),b}}function m(a,b){var c=k(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){d(a.target,b.get())>=0&&c(a)})}function n(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus(),a.is(":visible")&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function o(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{"offset":c,"length":d}}function p(a){a.preventDefault(),a.stopPropagation()}function q(a){a.preventDefault(),a.stopImmediatePropagation()}function r(b){if(!I){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);I=a(document.createElement("div")).css({"position":"absolute","left":"-10000px","top":"-10000px","display":"none","fontSize":c.fontSize,"fontFamily":c.fontFamily,"fontStyle":c.fontStyle,"fontWeight":c.fontWeight,"letterSpacing":c.letterSpacing,"textTransform":c.textTransform,"whiteSpace":"nowrap"}),I.attr("class","select2-sizer"),a("body").append(I)}return I.text(b.val()),I.width()}function s(b,c,d){var e,f,g=[];e=b.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&g.push(this)})),e=c.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(f=d(this),f&&g.push(f))})),b.attr("class",g.join(" "))}function t(a,b,d,e){var f=c(a.toUpperCase()).indexOf(c(b.toUpperCase())),g=b.length;return 0>f?void d.push(e(a)):(d.push(e(a.substring(0,f))),d.push("<span class='select2-match'>"),d.push(e(a.substring(f,f+g))),d.push("</span>"),void d.push(e(a.substring(f+g,a.length))))}function u(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function v(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={"type":c.type||"GET","cache":c.cache||!1,"jsonpCallback":c.jsonpCallback||b,"dataType":c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{"url":f,"dataType":c.dataType,"data":d,"success":function(a){var b=c.results(a,i.page);i.callback(b)}}),e=j.call(h,l)},f)}}function w(b){var c,d,e=b,f=function(a){return""+a.text};a.isArray(e)&&(d=e,e={"results":d}),a.isFunction(e)===!1&&(d=e,e=function(){return d});var g=e();return g.text&&(f=g.text,a.isFunction(f)||(c=g.text,f=function(a){return a[c]})),function(b){var c,d=b.term,g={"results":[]};return""===d?void b.callback(e()):(c=function(e,g){var h,i;if(e=e[0],e.children){h={};for(i in e)e.hasOwnProperty(i)&&(h[i]=e[i]);h.children=[],a(e.children).each2(function(a,b){c(b,h.children)}),(h.children.length||b.matcher(d,f(h),e))&&g.push(h)}else b.matcher(d,f(e),e)&&g.push(e)},a(e().results).each2(function(a,b){c(b,g.results)}),void b.callback(g))}}function x(c){var d=a.isFunction(c);return function(e){var f=e.term,g={"results":[]};a(d?c():c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{"id":this,"text":this})}),e.callback(g)}}function y(b,c){if(a.isFunction(b))return!0;if(!b)return!1;throw new Error(c+" must be a function or a falsy value")}function z(b){return a.isFunction(b)?b():b}function A(b){var c=0;return a.each(b,function(a,b){b.children?c+=A(b.children):c++}),c}function B(a,c,d,e){var g,h,i,j,k,l=a,m=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(h=-1,i=0,j=e.tokenSeparators.length;j>i&&(k=e.tokenSeparators[i],h=a.indexOf(k),!(h>=0));i++);if(0>h)break;if(g=a.substring(0,h),a=a.substring(h+k.length),g.length>0&&(g=e.createSearchChoice.call(this,g,c),g!==b&&null!==g&&e.id(g)!==b&&null!==e.id(g))){for(m=!1,i=0,j=c.length;j>i;i++)if(f(e.id(g),e.id(c[i]))){m=!0;break}m||d(g)}}return l!==a?a:void 0}function C(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var D,E,F,G,H,I,J,K,L={"x":0,"y":0},D={"TAB":9,"ENTER":13,"ESC":27,"SPACE":32,"LEFT":37,"UP":38,"RIGHT":39,"DOWN":40,"SHIFT":16,"CTRL":17,"ALT":18,"PAGE_UP":33,"PAGE_DOWN":34,"HOME":36,"END":35,"BACKSPACE":8,"DELETE":46,"isArrow":function(a){switch(a=a.which?a.which:a){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},"isControl":function(a){var b=a.which;switch(b){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return a.metaKey?!0:!1},"isFunctionKey":function(a){return a=a.which?a.which:a,a>=112&&123>=a}},M="<div class='select2-measure-scrollbar'></div>",N={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};
J=a(document),H=function(){var a=1;return function(){return a++}}(),J.on("mousemove",function(a){L.x=a.pageX,L.y=a.pageY}),E=C(Object,{"bind":function(a){var b=this;return function(){a.apply(b,arguments)}},"init":function(c){var d,f,g=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+H()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=l(function(){return c.element.closest("body")}),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(z(c.containerCss)),this.container.addClass(z(c.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",p),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(c.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",p),this.results=d=this.container.find(g),this.search=f=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",p),j(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",g,this.bind(this.highlightUnderEvent)),m(80,this.results),this.dropdown.on("scroll-debounced",g,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),p(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),p(a))}),i(f),f.on("keyup-change input paste",this.bind(this.updateResults)),f.on("focus",function(){f.addClass("select2-focused")}),f.on("blur",function(){f.removeClass("select2-focused")}),this.dropdown.on("mouseup",g,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()}),a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var k=c.element.prop("readonly");k===b&&(k=!1),this.readonly(k),K=K||e(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=b},"destroy":function(){var a=this.opts.element,c=a.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),c!==b&&(c.container.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({"tabindex":this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},"optionToData":function(a){return a.is("option")?{"id":a.prop("value"),"text":a.text(),"element":a.get(),"css":a.attr("class"),"disabled":a.prop("disabled"),"locked":f(a.attr("locked"),"locked")||f(a.data("locked"),!0)}:a.is("optgroup")?{"text":a.attr("label"),"children":[],"element":a.get(),"css":a.attr("class")}:void 0},"prepareOpts":function(c){var d,e,h,i,j=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{"populateResults":function(d,e,f){var g,h=this.opts.id;(g=function(d,e,i){var k,l,m,n,o,p,q,r,s,t;for(d=c.sortResults(d,e,f),k=0,l=d.length;l>k;k+=1)m=d[k],o=m.disabled===!0,n=!o&&h(m)!==b,p=m.children&&m.children.length>0,q=a("<li></li>"),q.addClass("select2-results-dept-"+i),q.addClass("select2-result"),q.addClass(n?"select2-result-selectable":"select2-result-unselectable"),o&&q.addClass("select2-disabled"),p&&q.addClass("select2-result-with-children"),q.addClass(j.opts.formatResultCssClass(m)),r=a(document.createElement("div")),r.addClass("select2-result-label"),t=c.formatResult(m,r,f,j.opts.escapeMarkup),t!==b&&r.html(t),q.append(r),p&&(s=a("<ul></ul>"),s.addClass("select2-result-sub"),g(m.children,s,i+1),q.append(s)),q.data("select2-data",m),e.append(q)})(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(h=c.id,c.id=function(a){return a[h]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var c,e,f,g={"results":[],"more":!1},h=a.term;f=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(j.optionToData(b)):b.is("optgroup")&&(d=j.optionToData(b),b.children().each2(function(a,b){f(b,d.children)}),d.children.length>0&&c.push(d))},c=d.children(),this.getPlaceholder()!==b&&c.length>0&&(e=this.getPlaceholderOption(),e&&(c=c.not(e))),c.each2(function(a,b){f(b,g.results)}),a.callback(g)}),c.id=function(a){return a.id},c.formatResultCssClass=function(a){return a.css}):"query"in c||("ajax"in c?(i=c.element.data("ajax-url"),i&&i.length>0&&(c.ajax.url=i),c.query=v.call(c.element,c.ajax)):"data"in c?c.query=w(c.data):"tags"in c&&(c.query=x(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{"id":a.trim(b),"text":a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(g(b.val(),c.separator)).each(function(){var b={"id":this,"text":this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return f(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");return c},"monitorSource":function(){var a,c,d=this.opts.element;d.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),a=this.bind(function(){var a=d.prop("disabled");a===b&&(a=!1),this.enable(!a);var c=d.prop("readonly");c===b&&(c=!1),this.readonly(c),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(z(this.opts.containerCssClass)),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(this.opts.dropdownCssClass))}),d.on("propertychange.select2",a),this.mutationCallback===b&&(this.mutationCallback=function(b){b.forEach(a)}),c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,c!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(this.mutationCallback),this.propertyObserver.observe(d.get(0),{"attributes":!0,"subtree":!1}))},"triggerSelect":function(b){var c=a.Event("select2-selecting",{"val":this.id(b),"object":b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},"triggerChange":function(b){b=b||{},b=a.extend({},b,{"type":"change","val":this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},"isInterfaceEnabled":function(){return this.enabledInterface===!0},"enableInterface":function(){var a=this._enabled&&!this._readonly,b=!a;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},"enable":function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},"disable":function(){this.enable(!1)},"readonly":function(a){return a===b&&(a=!1),this._readonly===a?!1:(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface(),!0)},"opened":function(){return this.container.hasClass("select2-dropdown-open")},"positionDropdown":function(){var b,c,d,e,f,g=this.dropdown,h=this.container.offset(),i=this.container.outerHeight(!1),j=this.container.outerWidth(!1),k=g.outerHeight(!1),l=a(window),m=l.width(),n=l.height(),o=l.scrollLeft()+m,p=l.scrollTop()+n,q=h.top+i,r=h.left,s=p>=q+k,t=h.top-k>=this.body().scrollTop(),u=g.outerWidth(!1),v=o>=r+u,w=g.hasClass("select2-drop-above");w?(c=!0,!t&&s&&(d=!0,c=!1)):(c=!1,!s&&t&&(d=!0,c=!0)),d&&(g.hide(),h=this.container.offset(),i=this.container.outerHeight(!1),j=this.container.outerWidth(!1),k=g.outerHeight(!1),o=l.scrollLeft()+m,p=l.scrollTop()+n,q=h.top+i,r=h.left,u=g.outerWidth(!1),v=o>=r+u,g.show()),this.opts.dropdownAutoWidth?(f=a(".select2-results",g)[0],g.addClass("select2-drop-auto-width"),g.css("width",""),u=g.outerWidth(!1)+(f.scrollHeight===f.clientHeight?0:K.width),u>j?j=u:u=j,v=o>=r+u):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(b=this.body().offset(),q-=b.top,r-=b.left),v||(r=h.left+j-u),e={"left":r,"width":j},c?(e.bottom=n-h.top,e.top="auto",this.container.addClass("select2-drop-above"),g.addClass("select2-drop-above")):(e.top=q,e.bottom="auto",this.container.removeClass("select2-drop-above"),g.removeClass("select2-drop-above")),e=a.extend(e,z(this.opts.dropdownCss)),g.css(e)},"shouldOpen":function(){var b;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented())},"clearDropdownAlignmentPreference":function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},"open":function(){return this.shouldOpen()?(this.opening(),!0):!1},"opening":function(){var b,c=this.containerId,d="scroll."+c,e="resize."+c,f="orientationchange."+c;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),b=a("#select2-drop-mask"),0==b.length&&(b=a(document.createElement("div")),b.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),b.hide(),b.appendTo(this.body()),b.on("mousedown touchstart click",function(b){var c,d=a("#select2-drop");d.length>0&&(c=d.data("select2"),c.opts.selectOnBlur&&c.selectHighlighted({"noFocus":!0}),c.close({"focus":!0}),b.preventDefault(),b.stopPropagation())})),this.dropdown.prev()[0]!==b[0]&&this.dropdown.before(b),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),b.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){a(this).on(e+" "+d+" "+f,function(){g.positionDropdown()})})},"close":function(){if(this.opened()){var b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},"externalSearch":function(a){this.open(),this.search.val(a),this.updateResults(!1)},"clearSearch":function(){},"getMaximumSelectionSize":function(){return z(this.opts.maximumSelectionSize)},"ensureHighlightVisible":function(){var b,c,d,e,f,g,h,i=this.results;if(c=this.highlight(),!(0>c)){if(0==c)return void i.scrollTop(0);b=this.findHighlightableChoices().find(".select2-result-label"),d=a(b[c]),e=d.offset().top+d.outerHeight(!0),c===b.length-1&&(h=i.find("li.select2-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=i.offset().top+i.outerHeight(!0),e>f&&i.scrollTop(i.scrollTop()+(e-f)),g=d.offset().top-i.offset().top,0>g&&"none"!=d.css("display")&&i.scrollTop(i.scrollTop()+g)}},"findHighlightableChoices":function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},"moveHighlight":function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},"highlight":function(b){var c,e,f=this.findHighlightableChoices();return 0===arguments.length?d(f.filter(".select2-highlighted")[0],f.get()):(b>=f.length&&(b=f.length-1),0>b&&(b=0),this.removeHighlight(),c=a(f[b]),c.addClass("select2-highlighted"),this.ensureHighlightVisible(),e=c.data("select2-data"),void(e&&this.opts.element.trigger({"type":"select2-highlight","val":this.id(e),"choice":e})))},"removeHighlight":function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},"countSelectableResults":function(){return this.findHighlightableChoices().length},"highlightUnderEvent":function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},"loadMoreIfNeeded":function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({"element":this.opts.element,"term":f,"page":d,"context":g,"matcher":this.opts.matcher,"callback":this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{"term":f,"page":d,"context":g}),e.postprocessResults(a,!1,!1),a.more===!0?(c.detach().appendTo(b).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=a.context,this.opts.element.trigger({"type":"select2-loaded","items":a}))})})))},"tokenize":function(){},"updateResults":function(c){function d(){j.removeClass("select2-active"),m.positionDropdown()}function e(a){k.html(a),d()}var g,h,i,j=this.search,k=this.results,l=this.opts,m=this,n=j.val(),o=a.data(this.container,"select2-last-term");if((c===!0||!o||!f(n,o))&&(a.data(this.container,"select2-last-term",n),c===!0||this.showSearchInput!==!1&&this.opened())){i=++this.queryCount;var p=this.getMaximumSelectionSize();if(p>=1&&(g=this.data(),a.isArray(g)&&g.length>=p&&y(l.formatSelectionTooBig,"formatSelectionTooBig")))return void e("<li class='select2-selection-limit'>"+l.formatSelectionTooBig(p)+"</li>");if(j.val().length<l.minimumInputLength)return e(y(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+l.formatInputTooShort(j.val(),l.minimumInputLength)+"</li>":""),void(c&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&j.val().length>l.maximumInputLength)return void e(y(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+l.formatInputTooLong(j.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&e("<li class='select2-searching'>"+l.formatSearching()+"</li>"),j.addClass("select2-active"),this.removeHighlight(),h=this.tokenize(),h!=b&&null!=h&&j.val(h),this.resultsPage=1,l.query({"element":l.element,"term":j.val(),"page":this.resultsPage,"context":null,"matcher":l.matcher,"callback":this.bind(function(g){var h;if(i==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==j.val()&&(h=this.opts.createSearchChoice.call(m,j.val(),g.results),h!==b&&null!==h&&m.id(h)!==b&&null!==m.id(h)&&0===a(g.results).filter(function(){return f(m.id(this),m.id(h))}).length&&g.results.unshift(h)),0===g.results.length&&y(l.formatNoMatches,"formatNoMatches"))return void e("<li class='select2-no-results'>"+l.formatNoMatches(j.val())+"</li>");k.empty(),m.opts.populateResults.call(this,k,g.results,{"term":j.val(),"page":this.resultsPage,"context":null}),g.more===!0&&y(l.formatLoadMore,"formatLoadMore")&&(k.append("<li class='select2-more-results'>"+m.opts.escapeMarkup(l.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){m.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),d(),this.opts.element.trigger({"type":"select2-loaded","items":g})}})})}},"cancel":function(){this.close()},"blur":function(){this.opts.selectOnBlur&&this.selectHighlighted({"noFocus":!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},"focusSearch":function(){n(this.search)},"selectHighlighted":function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},"getPlaceholder":function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},"getPlaceholderOption":function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},"initContainerWidth":function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),F=C(E,{"createContainer":function(){var b=a(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},"enableInterface":function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},"opening":function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e)),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},"close":function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{"focus":!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},"focus":function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},"isFocused":function(){return this.container.hasClass("select2-container-active")},"cancel":function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},"destroy":function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},"initContainer":function(){var b,c=this.container,d=this.dropdown;this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=b=c.find(".select2-choice"),this.focusser=c.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+H()),a("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===D.PAGE_UP||a.which===D.PAGE_DOWN)return void p(a);switch(a.which){case D.UP:case D.DOWN:return this.moveHighlight(a.which===D.UP?-1:1),void p(a);case D.ENTER:return this.selectHighlighted(),void p(a);case D.TAB:return void this.selectHighlighted({"noFocus":!0});case D.ESC:return this.cancel(a),void p(a)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==D.TAB&&!D.isControl(a)&&!D.isFunctionKey(a)&&a.which!==D.ESC){if(this.opts.openOnEnter===!1&&a.which===D.ENTER)return void p(a);if(a.which==D.DOWN||a.which==D.UP||a.which==D.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),void p(a)}return a.which==D.DELETE||a.which==D.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(a)):void 0}})),i(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),q(a),this.close(),this.selection.focus())})),b.on("mousedown",this.bind(function(b){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(b)})),d.on("mousedown",this.bind(function(){this.search.focus()})),b.on("focus",this.bind(function(a){p(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},"clear":function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({"type":"select2-removed","val":this.id(c),"choice":c}),this.triggerChange({"removed":c}))}},"initSelection":function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder())})}},"isPlaceholderOptionSelected":function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val():!1},"prepareOpts":function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),g=null;b.query({"matcher":function(a,c,d){var h=f(e,b.id(d));return h&&(g=d),h},"callback":a.isFunction(d)?function(){d(g)}:a.noop})}),b},"getPlaceholder":function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},"setPlaceholder":function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},"postprocessResults":function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return f(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&this.highlight(b===!0&&d>=0?d:0),b===!0){var g=this.opts.minimumResultsForSearch;g>=0&&this.showSearch(A(a.results)>=g)}},"showSearch":function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},"onSelect":function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({"type":"select2-selected","val":this.id(a),"choice":a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||this.focusser.focus(),f(c,this.id(a))||this.triggerChange({"added":a,"removed":d})}},"updateSelection":function(a){var c,d,e=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),e.empty(),null!==a&&(c=this.opts.formatSelection(a,e,this.opts.escapeMarkup)),c!==b&&e.append(c),d=this.opts.formatSelectionCssClass(a,e),d!==b&&e.addClass(d),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},"val":function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({"added":d,"removed":f});else{if(!a&&0!==a)return void this.clear(c);if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({"added":a,"removed":f})})}},"clearSearch":function(){this.search.val(""),this.focusser.val("")},"data":function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),void(a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({"added":a,"removed":c})):this.clear(d)))}}),G=C(E,{"createContainer":function(){var b=a(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},"prepareOpts":function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=g(c.val(),b.separator),h=[];b.query({"matcher":function(c,d,g){var i=a.grep(e,function(a){return f(a,b.id(g))}).length;return i&&h.push(g),i},"callback":a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var g=e[c],i=0;i<h.length;i++){var j=h[i];if(f(g,b.id(j))){a.push(j),h.splice(i,1);break}}d(a)}:a.noop})}),b},"selectChoice":function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},"destroy":function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},"initContainer":function(){var b,c=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=b=this.container.find(c);var d=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){d.search[0].focus(),d.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+H()),a("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var c=b.find(".select2-search-choice-focus"),d=c.prev(".select2-search-choice:not(.select2-locked)"),e=c.next(".select2-search-choice:not(.select2-locked)"),f=o(this.search);if(c.length&&(a.which==D.LEFT||a.which==D.RIGHT||a.which==D.BACKSPACE||a.which==D.DELETE||a.which==D.ENTER)){var g=c;return a.which==D.LEFT&&d.length?g=d:a.which==D.RIGHT?g=e.length?e:null:a.which===D.BACKSPACE?(this.unselect(c.first()),this.search.width(10),g=d.length?d:e):a.which==D.DELETE?(this.unselect(c.first()),this.search.width(10),g=e.length?e:null):a.which==D.ENTER&&(g=null),this.selectChoice(g),p(a),void(g&&g.length||this.open())}if((a.which===D.BACKSPACE&&1==this.keydowns||a.which==D.LEFT)&&0==f.offset&&!f.length)return this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last()),void p(a);if(this.selectChoice(null),this.opened())switch(a.which){case D.UP:case D.DOWN:return this.moveHighlight(a.which===D.UP?-1:1),void p(a);case D.ENTER:return this.selectHighlighted(),void p(a);case D.TAB:return this.selectHighlighted({"noFocus":!0}),void this.close();case D.ESC:return this.cancel(a),void p(a)}if(a.which!==D.TAB&&!D.isControl(a)&&!D.isFunctionKey(a)&&a.which!==D.BACKSPACE&&a.which!==D.ESC){if(a.which===D.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===D.PAGE_UP||a.which===D.PAGE_DOWN)&&p(a),a.which===D.ENTER&&p(a)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()
})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",c,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",c,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},"enableInterface":function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},"initSelection":function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},"clearSearch":function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},"clearPlaceholder":function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},"opening":function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},"close":function(){this.opened()&&this.parent.close.apply(this,arguments)},"focus":function(){this.close(),this.search.focus()},"isFocused":function(){return this.search.hasClass("select2-focused")},"updateSelection":function(b){var c=[],e=[],f=this;a(b).each(function(){d(f.id(this),c)<0&&(c.push(f.id(this)),e.push(this))}),b=e,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},"tokenize":function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},"onSelect":function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({"type":"selected","val":this.id(a),"choice":a}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({"added":a}),b&&b.noFocus||this.focusSearch())},"cancel":function(){this.close(),this.focusSearch()},"addSelectedChoice":function(c){var d,e,f=!c.locked,g=a("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),h=a("<li class='select2-search-choice select2-locked'><div></div></li>"),i=f?g:h,j=this.id(c),k=this.getVal();d=this.opts.formatSelection(c,i.find("div"),this.opts.escapeMarkup),d!=b&&i.find("div").replaceWith("<div>"+d+"</div>"),e=this.opts.formatSelectionCssClass(c,i.find("div")),e!=b&&i.addClass(e),f&&i.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),p(b))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",c),i.insertBefore(this.searchContainer),k.push(j),this.setVal(k)},"unselect":function(b){var c,e,f=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(c=b.data("select2-data")){for(;(e=d(this.id(c),f))>=0;)f.splice(e,1),this.setVal(f),this.select&&this.postprocessResults();var g=a.Event("select2-removing");g.val=this.id(c),g.choice=c,this.opts.element.trigger(g),g.isDefaultPrevented()||(b.remove(),this.opts.element.trigger({"type":"select2-removed","val":this.id(c),"choice":c}),this.triggerChange({"removed":c}))}},"postprocessResults":function(a,b,c){var e=this.getVal(),f=this.results.find(".select2-result"),g=this.results.find(".select2-result-with-children"),h=this;f.each2(function(a,b){var c=h.id(b.data("select2-data"));d(c,e)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&h.highlight(0),!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&y(h.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+h.opts.formatNoMatches(h.search.val())+"</li>")},"getMaxSearchWidth":function(){return this.selection.width()-h(this.search)},"resizeSearch":function(){var a,b,c,d,e,f=h(this.search);a=r(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},"getVal":function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),g(a,this.opts.separator))},"setVal":function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){d(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},"buildChangeDetails":function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)f(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{"added":b,"removed":a}},"val":function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(d&&this.triggerChange({"added":this.data(),"removed":e}));if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},"onSortStart":function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},"onSortEnd":function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},"data":function(b,c){var d,e,f=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(e=this.data(),b||(b=[]),d=a.map(b,function(a){return f.opts.id(a)}),this.setVal(d),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(e,this.data())),void 0)}}),a.fn.select2=function(){var c,e,f,g,h,i=Array.prototype.slice.call(arguments,0),j=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],k=["opened","isFocused","container","dropdown"],l=["val","data"],m={"search":"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])c=0===i.length?{}:a.extend({},i[0]),c.element=a(this),"select"===c.element.get(0).tagName.toLowerCase()?h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),e=h?new G:new F,e.init(c);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(d(i[0],j)<0)throw"Unknown method: "+i[0];if(g=b,e=a(this).data("select2"),e===b)return;if(f=i[0],"container"===f?g=e.container:"dropdown"===f?g=e.dropdown:(m[f]&&(f=m[f]),g=e[f].apply(e,i.slice(1))),d(i[0],k)>=0||d(i[0],l)&&1==i.length)return!1}}),g===b?this:g},a.fn.select2.defaults={"width":"copy","loadMorePadding":0,"closeOnSelect":!0,"openOnEnter":!0,"containerCss":{},"dropdownCss":{},"containerCssClass":"","dropdownCssClass":"","formatResult":function(a,b,c,d){var e=[];return t(a.text,c.term,e,d),e.join("")},"formatSelection":function(a,c,d){return a?d(a.text):b},"sortResults":function(a){return a},"formatResultCssClass":function(){return b},"formatSelectionCssClass":function(){return b},"formatNoMatches":function(){return"No matches found"},"formatInputTooShort":function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},"formatInputTooLong":function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},"formatSelectionTooBig":function(a){return"You can only select "+a+" item"+(1==a?"":"s")},"formatLoadMore":function(){return"Loading more results..."},"formatSearching":function(){return"Searching..."},"minimumResultsForSearch":0,"minimumInputLength":0,"maximumInputLength":null,"maximumSelectionSize":0,"id":function(a){return a.id},"matcher":function(a,b){return c(""+b).toUpperCase().indexOf(c(""+a).toUpperCase())>=0},"separator":",","tokenSeparators":[],"tokenizer":B,"escapeMarkup":u,"blurOnChange":!1,"selectOnBlur":!1,"adaptContainerCssClass":function(a){return a},"adaptDropdownCssClass":function(){return null},"nextSearchTerm":function(){return b}},a.fn.select2.ajaxDefaults={"transport":a.ajax,"params":{"type":"GET","cache":!1,"dataType":"json"}},window.Select2={"query":{"ajax":v,"local":w,"tags":x},"util":{"debounce":k,"markMatch":t,"escapeMarkup":u,"stripDiacritics":c},"class":{"abstract":E,"single":F,"multi":G}}}}(jQuery),function(a){var b=a.fn.select2,c="aui-select2-container",d="aui-select2-drop aui-dropdown2 aui-style-default",e="aui-has-avatar";a.fn.auiSelect2=function(f){var g;if(a.isPlainObject(f)){var h=a.extend({},f),i=h.hasAvatar?" "+e:"";h.containerCssClass=c+i+(h.containerCssClass?" "+h.containerCssClass:""),h.dropdownCssClass=d+i+(h.dropdownCssClass?" "+h.dropdownCssClass:""),g=Array.prototype.slice.call(arguments,1),g.unshift(h)}else g=arguments.length?arguments:[{"containerCssClass":c,"dropdownCssClass":d}];return b.apply(this,g)}}(AJS.$),!function(a,b,c){function d(a,c){var d,e=b.createElement(a||"div");for(d in c)e[d]=c[d];return e}function e(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function f(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",n.cssRules.length),m[e]=1),e}function g(a,b){var d,e,f=a.style;if(f[b]!==c)return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),e=0;e<l.length;e++)if(d=l[e]+b,f[d]!==c)return d}function h(a,b){for(var c in b)a.style[g(a,c)||c]=b[c];return a}function i(a){for(var b=1;b<arguments.length;b++){var d=arguments[b];for(var e in d)a[e]===c&&(a[e]=d[e])}return a}function j(a){for(var b={"x":a.offsetLeft,"y":a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var a=d("style",{"type":"text/css"});return e(b.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),o={"lines":12,"length":7,"width":5,"radius":10,"rotate":0,"corners":1,"color":"#000","speed":1,"trail":100,"opacity":.25,"fps":20,"zIndex":2e9,"className":"spinner","top":"auto","left":"auto","position":"relative"},p=function q(a){return this.spin?void(this.opts=i(a||{},q.defaults,o)):new q(a)};p.defaults={},i(p.prototype,{"spin":function(a){this.stop();var b,c,e=this,f=e.opts,g=e.el=h(d(0,{"className":f.className}),{"position":f.position,"width":0,"zIndex":f.zIndex}),i=f.radius+f.length+f.width;if(a&&(a.insertBefore(g,a.firstChild||null),c=j(a),b=j(g),h(g,{"left":("auto"==f.left?c.x-b.x+(a.offsetWidth>>1):parseInt(f.left,10)+i)+"px","top":("auto"==f.top?c.y-b.y+(a.offsetHeight>>1):parseInt(f.top,10)+i)+"px"})),g.setAttribute("aria-role","progressbar"),e.lines(g,e.opts),!k){var l=0,m=f.fps,n=m/f.speed,o=(1-f.opacity)/(n*f.trail/100),p=n/f.lines;!function q(){l++;for(var a=f.lines;a;a--){var b=Math.max(1-(l+a*p)%n*o,f.opacity);e.opacity(g,f.lines-a,b,f)}e.timeout=e.el&&setTimeout(q,~~(1e3/m))}()}return e},"stop":function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=c),this},"lines":function(a,b){function c(a,c){return h(d(),{"position":"absolute","width":b.length+b.width+"px","height":b.width+"px","background":a,"boxShadow":c,"transformOrigin":"left","transform":"rotate("+~~(360/b.lines*i+b.rotate)+"deg) translate("+b.radius+"px,0)","borderRadius":(b.corners*b.width>>1)+"px"})}for(var g,i=0;i<b.lines;i++)g=h(d(),{"position":"absolute","top":1+~(b.width/2)+"px","transform":b.hwaccel?"translate3d(0,0,0)":"","opacity":b.opacity,"animation":k&&f(b.opacity,b.trail,i,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&e(g,h(c("#000","0 0 4px #000"),{"top":"2px"})),e(a,e(g,c(b.color,"0 0 1px rgba(0,0,0,.1)")));return a},"opacity":function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),function(){function a(a,b){return d("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)}var b=h(d("group"),{"behavior":"url(#default#VML)"});!g(b,"transform")&&b.adj?(n.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(b,c){function d(){return h(a("group",{"coordsize":j+" "+j,"coordorigin":-i+" "+-i}),{"width":j,"height":j})}function f(b,f,g){e(l,e(h(d(),{"rotation":360/c.lines*b+"deg","left":~~f}),e(h(a("roundrect",{"arcsize":c.corners}),{"width":i,"height":c.width,"left":c.radius,"top":-c.width>>1,"filter":g}),a("fill",{"color":c.color,"opacity":c.opacity}),a("stroke",{"opacity":0}))))}var g,i=c.length+c.width,j=2*i,k=2*-(c.width+c.length)+"px",l=h(d(),{"position":"absolute","top":k,"left":k});if(c.shadow)for(g=1;g<=c.lines;g++)f(g,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(g=1;g<=c.lines;g++)f(g);return e(b,l)},p.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}):k=g(b,"animation")}(),"function"==typeof define&&define("aui/internal/spin",[],function(){return p}),a.Spinner=p}(window,document),define("aui/internal/spinner",["aui/internal/spin"],function(a){"use strict";function b(b){var c=AJS.$;this.$element=c(b);var d=document.createElement("div"),e=c(d);e.addClass("aui-button-spinner");var f={"color":this.$element.css("color"),"lines":12,"length":3,"width":2,"radius":3,"trail":60,"speed":1.5};e.data().spinner=new a(f).spin(d),this.$element.append(d)}return b.prototype={"remove":function(){var a=this.$element.children(".aui-button-spinner").first(),b=a.data();b&&(b.spinner.stop(),delete b.spinner),a.remove()},"show":function(){var a=this.$element.children(".aui-button-spinner").first();a.css("display","block")},"hide":function(){var a=this.$element.children(".aui-button-spinner").first();a.css("display","none")}},b}),define("aui/internal/state",[],function(){"use strict";return function(a){return{"set":function(b,c){void 0===a._state&&(a._state={}),a._state[b]=c},"get":function(b){return a._state?a._state[b]:void 0}}}}),define("aui/button",["aui/internal/spinner","aui/internal/state"],function(a,b){"use strict";function c(c){b(c).set("spinner",new a(c))}function d(a){return b(a).get("spinner")}function e(a){var b=a.getAttribute("aria-busy");return b&&"true"===b}function f(a){return"INPUT"===a.nodeName}var g=(AJS.$,window.skate);g("aui-button",{"type":g.types.CLASS,"created":function(a){a.hasAttribute("aria-busy")||a.setAttribute("aria-busy",!1)},"prototype":{"busy":function(){return f(this)||e(this)?(AJS.warn("It is not valid to call busy() on an input button."),this):(c(this),this.setAttribute("aria-busy",!0),this)},"idle":function(){return f(this)||!e(this)?(AJS.warn("It is not valid to call idle() on an input button."),this):(d(this).remove(),this.setAttribute("aria-busy",!1),this)},"isBusy":function(){return f(this)?(AJS.warn("It is not valid to call isBusy() on an input button."),!1):e(this)}}})}),function(a){"use strict";var b=a(AJS.$,window.skate);define("aui/trigger",[],function(){return b})}(function(a,b){"use strict";function c(a){return document.getElementById(a.getAttribute("aria-controls"))}function d(a,b){if(a.isEnabled()){var d=c(a);d&&d.message&&d.message(b)}}b("data-aui-trigger",{"type":b.types.ATTR,"events":{"click":function(a,b){d(a,b),b.preventDefault()},"mouseenter":function(a,b){d(a,b)},"mouseleave":function(a,b){d(a,b)},"focus":function(a,b){d(a,b)},"blur":function(a,b){d(a,b)}},"prototype":{"disable":function(){this.setAttribute("aria-disabled","true")},"enable":function(){this.setAttribute("aria-disabled","false")},"isEnabled":function(){return"true"!==this.getAttribute("aria-disabled")}}})}),function(a){"use strict";var b=a();define("aui/inline-dialog2",["aui/internal/skate","./internal/alignment","./trigger","../layer"],function(){return b})}(function(){"use strict";function a(a){return document.querySelector('[aria-controls="'+a.id+'"]')}function b(b,c){var d=a(b);d&&c(d)}function c(a,b){var c="hover"===a.getAttribute("responds-to");c&&b(a)}function d(a,b){a._auiAlignment||(a._auiAlignment=new j(a,b))}function e(a,b){d(a,b),a._auiAlignment.enable()}function f(a,b){d(a,b),a._auiAlignment.disable()}function g(a,b){var c={"toggle":["click"],"hover":["mouseenter","mouseleave","focus","blur"]},d=a.getAttribute("responds-to")||a.getAttribute("data-aui-responds-to"),e=c[d];e&&e.indexOf(b.type)>-1&&m[b.type](a,b)}var h=1e3,i=window.jQuery,j=AJS.Alignment,k=AJS.layer,l=window.skate,m={"click":function(a){a.isVisible()?k(a).isPersistent()||a.hide():a.show()},"mouseenter":function(a){a.isVisible()||a.show(),a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout()},"mouseleave":function(a){if(!k(a).isPersistent()&&a.isVisible()){a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout();var b=setTimeout(function(){a.mouseInside||a.hide()},h);a._clearMouseleaveTimeout=function(){clearTimeout(b),a._clearMouseleaveTimeout=null}}},"focus":function(a){a.isVisible()||a.show()},"blur":function(a){!k(a).isPersistent()&&a.isVisible()&&a.hide()}};return l("aui-inline-dialog2",{"type":l.types.TAG,"prototype":{"show":function(){var a=this;return k(this).show(),b(this,function(b){e(a,b),b.setAttribute("aria-expanded","true")}),this},"hide":function(){var a=this;return k(this).hide(),b(this,function(b){f(a,b),b.setAttribute("aria-expanded","false")}),this},"isVisible":function(){return k(this).isVisible()},"message":function(a){return g(this,a),this}},"created":function(a){b(a,function(b){b.setAttribute("aria-expanded",a.isVisible()),b.setAttribute("aria-haspopup","true")}),c(a,function(){a.mouseInside=!1,a.addEventListener("mouseenter",function(){a.mouseInside=!0,a.message({"type":"mouseenter"})}),a.addEventListener("mouseleave",function(){a.mouseInside=!1,a.message({"type":"mouseleave"})})})},"detached":function(a){a._auiAlignment&&a._auiAlignment.destroy()},"template":function(a){i(a).addClass("aui-layer").attr("aria-hidden","true").html('<div class="aui-inline-dialog-contents">'+a.innerHTML+"</div>")}})}),function(a){a.fn.spin=function(b,c){var d,e;if("string"==typeof b){if(!b in a.fn.spin.presets)throw new Error("Preset '"+b+"' isn't defined");d=a.fn.spin.presets[b],e=c||{}}else{if(c)throw new Error("Invalid arguments. Accepted arguments:\n$.spin([String preset[, Object options]]),\n$.spin(Object options),\n$.spin(Boolean shouldSpin)");d=a.fn.spin.presets.small,e=a.isPlainObject(b)?b:{}}if(window.Spinner)return this.each(function(){var c=a(this),f=c.data();f.spinner&&(f.spinner.stop(),delete f.spinner),b!==!1&&(e=a.extend({"color":c.css("color")},d,e),f.spinner=new Spinner(e).spin(this))});throw"Spinner class not available."},a.fn.spin.presets={"small":{"lines":12,"length":3,"width":2,"radius":3,"trail":60,"speed":1.5},"medium":{"lines":12,"length":5,"width":3,"radius":8,"trail":60,"speed":1.5},"large":{"lines":12,"length":8,"width":4,"radius":10,"trail":60,"speed":1.5}},a.fn.spinStop=function(){if(window.Spinner)return this.each(function(){var b=a(this),c=b.data();c.spinner&&(c.spinner.stop(),delete c.spinner)});throw"Spinner class not available."}}(jQuery),function(a){for(var b=0,c=["webkit","moz"],d=a.requestAnimationFrame,e=a.cancelAnimationFrame,f=c.length;--f>=0&&!d;)d=a[c[f]+"RequestAnimationFrame"],e=a[c[f]+"CancelAnimationFrame"];d&&e||(d=function(a){var c=Date.now(),d=Math.max(b+16,c);return setTimeout(function(){a(b=d)},d-c)},e=clearTimeout),a.requestAnimationFrame=d,a.cancelAnimationFrame=e}(window),window.Modernizr=function(a,b,c){function d(a){n.cssText=a}function e(a,b){return typeof a===b}var f,g,h,i="2.8.0",j={},k=b.documentElement,l="modernizr",m=b.createElement(l),n=m.style,o=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),p={},q=[],r=q.slice,s=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:l+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',l,'">',a,"</style>"].join(""),j.id=l,(m?j:n).innerHTML+=f,n.appendChild(j),m||(n.style.background="",n.style.overflow="hidden",i=k.style.overflow,k.style.overflow="hidden",k.appendChild(n)),g=c(j,a),m?j.parentNode.removeChild(j):(n.parentNode.removeChild(n),k.style.overflow=i),!!g},t={}.hasOwnProperty;h=e(t,"undefined")||e(t.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return t.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=r.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(r.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(r.call(arguments)))};return d}),p.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:s(["@media (",o.join("touch-enabled),("),l,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c};for(var u in p)h(p,u)&&(g=u.toLowerCase(),j[g]=p[u](),q.push((j[g]?"":"no-")+g));return j.addTest=function(a,b){if("object"==typeof a)for(var d in a)h(a,d)&&j.addTest(d,a[d]);else{if(a=a.toLowerCase(),j[a]!==c)return j;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(k.className+=" "+(b?"":"no-")+a),j[a]=b}return j},d(""),m=f=null,j._version=i,j._prefixes=o,j.testStyles=s,j}(this,this.document),function(a){"use strict";AJS.navigation=a(AJS.$,window.skate,AJS._internal.widget)}(function(a,b,c){"use strict";function d(b){if(this.$el=a(b).closest(".aui-nav"),this.$el.length>1)return this.$el.map(function(a,b){return new d(b)})[0];if(this.$el.data("aui-navigation"))return this.$el.data("aui-navigation");this.$el.data("aui-navigation",this),this.$treeParent=this.$el.parent("li[aria-expanded]"),this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon"),this.hideMoreItems(),this.$el.children("li:has(.aui-nav-selected)").addClass("aui-nav-child-selected");var c=this.$el.children(".aui-nav-selected");return c.parents(".aui-nav > [aria-expanded=false]").add(c.filter("[aria-expanded=false]")).each(function(){var b=e(a(this).children(".aui-nav"));b.expand()}),this.$el.find("> li[aria-expanded] > .aui-nav-subtree-toggle").on("click",function(){var b=e(a(this).siblings(".aui-nav"));b.toggle()}),this}d.prototype.isNested=function(){return 1===this.$treeParent.length},d.prototype.isCollapsed=function(){return"false"===this.$treeParent.attr("aria-expanded")},d.prototype.expand=function(){return this.$treeParent.attr("aria-expanded","true"),this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded"),this.hideMoreItems(),this},d.prototype.collapse=function(){return this.$treeParent.attr("aria-expanded","false"),this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed"),this},d.prototype.toggle=function(){return this.isCollapsed()?this.expand():this.collapse(),this},d.prototype.hideMoreItems=function(){if(this.$el.is(".aui-nav:not([aria-expanded=false]) [data-more]")){var b=this.$el.attr("data-more")||AJS.I18n.getText("aui.words.moreitem"),c=Math.abs(parseInt(this.$el.attr("data-more-limit")))||5,d=this.$el.children("li"),e=d.length<=c+1,f=d.filter(".aui-nav-selected").length,g=d.filter(".aui-nav-more").length;if(e||f||g)return this;a("<li>",{"class":"aui-nav-more","aria-hidden":"true"}).append(a("<a>",{"href":"#","class":"aui-nav-item","text":b,"click":function(b){b.preventDefault(),a(this).parent().remove()}})).insertAfter(d.eq(c-1))}return this};var e=c("navigation",d);return b("aui-nav",{"attached":function(a){e(a)}}),e}),function(a){"use strict";function b(a){return a.offset().top}function c(b){this.$el=a(b),this.$el.length&&(this.$body=a("body"),this.$wrapper=this.$el.children(".aui-sidebar-wrapper"),this.$body.addClass("aui-page-sidebar"),this._previousScrollTop=null,this._previousViewportHeight=null,this._previousViewportWidth=null,this._previousOffsetTop=null,this.submenus=new e,o(this),l(this))}function d(){return document.querySelectorAll(".aui-sidebar-submenu-dialog")}function e(){this.inlineDialog=null}function f(a){return a.is("a")?a.next(".aui-nav"):a.children(".aui-nav, hr")}function g(a){return 0!==f(a).length}function h(a,b){if(!b.data("_aui-sidebar-submenu-constructed")){b.data("_aui-sidebar-submenu-constructed",!0);var c=document.createElement("aui-inline-dialog2"),d=AJS.id("sidebar-submenu");return b.attr("aria-controls",d),b.attr("data-aui-trigger",""),skate.init(b),c.setAttribute("id",d),c.setAttribute("alignment","right top"),c.setAttribute("responds-to","hover"),c.setAttribute("aria-hidden","true"),c.classList.add("aui-sidebar-submenu-dialog"),document.body.appendChild(c),skate.init(c),i(a,b,c),c}}function i(a,b,c){c.addEventListener("aui-layer-show",function(d){return a.isCollapsed()?void j(b,c):void d.preventDefault()}),c.addEventListener("aui-layer-hide",function(){k(b)})}function j(b,c){b.addClass("active"),c.innerHTML=s;var d=b.is("a")?b.text():b.children(".aui-nav-heading").text(),e=a(c).find(".aui-navgroup-inner");e.children(".aui-nav-heading").attr("title",d).children("strong").text(d);var g=f(b);g.clone().appendTo(e)}function k(a){a.removeClass("active")}function l(b){a(b.collapsedTriggersSelector).each(function(){var c=a(this);g(c)&&h(b,c)})}function m(a){a.tipsy(t).tipsy("show");var b=a.data("tipsy")&&a.data("tipsy").$tip;b&&b.css({"opacity":""}).addClass("tooltip-shown")}function n(a){var b=a.data("tipsy")&&a.data("tipsy").$tip;b&&(b.on("transitionend",function(){a.tipsy("hide")}),b.removeClass("tooltip-shown"))}function o(b){var c=a(".aui-sidebar");if(c.length){Modernizr.touch&&a("body").addClass("aui-page-sidebar-touch");var d=null;a(window).on("scroll resize",function(){null===d&&(d=requestAnimationFrame(function(){b.reflow(),d=null}))}),b.reflow(),b.isAnimated()&&b.$el.on("transitionend webkitTransitionEnd",function(){b.$el.trigger(a.Event(r+(b.isCollapsed()?"collapse-end":"expand-end")))}),b.$el.on("click",".aui-sidebar-toggle",function(a){a.preventDefault(),b.toggle()}),b.$el.on("click",".aui-sidebar-body",function(c){a(c.target).is(".aui-sidebar-body")&&(c.preventDefault(),b.toggle())}),a(".aui-page-panel").click(function(){!b.isCollapsed()&&b.isViewportNarrow()&&b.collapse()}),AJS.whenIType("[").execute(function(){b.toggle()}),b.$el.on("touchend",function(a){b.isCollapsed()&&(b.expand(),a.preventDefault())}),b.$el.on("mouseenter focus",b.collapsedTriggersSelector,function(){if(b.isCollapsed()){var c=a(this);g(c)||m(c)}}),b.$el.on("click blur mouseleave",b.collapsedTriggersSelector,function(){b.isCollapsed()&&n(a(this))}),b.$el.on("mouseenter focus",b.toggleSelector,function(){var c=a(this);b.isCollapsed()?c.data("tooltip",AJS.I18n.getText("aui.sidebar.expand.tooltip")):c.data("tooltip",AJS.I18n.getText("aui.sidebar.collapse.tooltip")),m(c)}),b.$el.on("click blur mouseleave",b.toggleSelector,function(){n(a(this))}),b.$el.find(".aui-sidebar-body").on("mouseenter mouseover mouseleave",function(c){b.$el.toggleClass("aui-is-hover",("mouseover"===c.type||"mouseenter"===c.type)&&!a(c.target).parentsUntil(b.$el).filter(".aui-page-header, .aui-navgroup").length)})}}var p="undefined"!=typeof document.documentElement.style.transition||"undefined"!=typeof document.documentElement.style.webkitTransition,q=1240,r="_aui-internal-sidebar-";c.prototype.on=function(){var b=arguments[0],c=Array.prototype.slice.call(arguments,1),d=a.map(b.split(" "),function(a){return r+a}).join(" ");return this.$el.on.apply(this.$el,[d].concat(c)),this},c.prototype.setHeight=function(a,c,d){a=a||window.pageYOffset,c=c||document.documentElement.clientHeight,d=d||b(this.$el);var e=Math.max(0,d-a);return this.$wrapper.height(c-e),this},c.prototype.setPosition=function(a){return a=a||window.pageYOffset,this.$wrapper.toggleClass("aui-is-docked",a>b(this.$el)),this},c.prototype.setCollapsedState=function(b){var c={"collapsed":{},"expanded":{}};c.collapsed.narrow={"narrow":a.noop,"wide":function(a){a._expand(b)}},c.collapsed.wide={"narrow":a.noop,"wide":a.noop},c.expanded.narrow={"narrow":a.noop,"wide":function(a){a.$body.removeClass("aui-sidebar-collapsed"),a.$el.removeClass("aui-sidebar-fly-out")}},c.expanded.wide={"narrow":function(a){a.collapse()},"wide":a.noop};var d=this.isCollapsed()?"collapsed":"expanded",e=this.isViewportNarrow(this._previousViewportWidth)?"narrow":"wide",f=this.isViewportNarrow(b)?"narrow":"wide";return c[d][e][f](this),this},c.prototype.collapse=function(){return this.isCollapsed()?this:(this.$el.trigger(a.Event(r+"collapse-start")),this.$body.addClass("aui-sidebar-collapsed"),this.$el.attr("aria-expanded","false"),this.$el.removeClass("aui-sidebar-fly-out"),this.isAnimated()||this.$el.trigger(a.Event(r+"collapse-end")),this)},c.prototype._expand=function(b){this.$el.trigger(a.Event(r+"expand-start"));var c=this.isViewportNarrow(b);return this.$el.attr("aria-expanded","true"),this.$body.toggleClass("aui-sidebar-collapsed",c),this.$el.toggleClass("aui-sidebar-fly-out",c),this.isAnimated()||this.$el.trigger(a.Event(r+"expand-end")),this},c.prototype.expand=function(){return this.isCollapsed()&&this._expand(this._previousViewportWidth),this
},c.prototype.isAnimated=function(){return p&&this.$el.hasClass("aui-is-animated")},c.prototype.isCollapsed=function(){return"false"===this.$el.attr("aria-expanded")},c.prototype.isViewportNarrow=function(a){return a=void 0===a?this._previousViewportWidth:a,q>a},c.prototype.reflow=function(a,c,d){a=void 0===a?window.pageYOffset:a,c=void 0===c?document.documentElement.clientHeight:c,d=void 0===d?window.innerWidth:d;var e=b(this.$el);(a!==this._previousScrollTop||c!==this._previousViewportHeight||e!==this._previousOffsetTop)&&(this.$body.hasClass("aui-page-sidebar-touch")||(this.setHeight(a,c,e),this.setPosition(a)));var f="false"!==this.$el.attr("data-aui-responsive");if(f){var g=null===this._previousViewportWidth;if(g){if(!this.isCollapsed()&&this.isViewportNarrow(d)){var h=this.isAnimated();h&&this.$el.removeClass("aui-is-animated"),this.collapse(),h&&(this.$el[0].offsetHeight,this.$el.addClass("aui-is-animated"))}}else d!==this._previousViewportWidth&&this.setCollapsedState(d)}else{var i=!this.isCollapsed()&&this.isViewportNarrow(d);this.$el.toggleClass("aui-sidebar-fly-out",i)}return this._previousScrollTop=a,this._previousViewportHeight=c,this._previousViewportWidth=d,this._previousOffsetTop=e,this},c.prototype.toggle=function(){return this.isCollapsed()?(this.expand(),a(".aui-sidebar-section-tooltip").remove()):this.collapse(),this},c.prototype.collapsedTriggersSelector=[".aui-sidebar-group:not(.aui-sidebar-group-tier-one)",".aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a",".aui-sidebar-footer > .aui-sidebar-settings-button"].join(", "),c.prototype.toggleSelector=".aui-sidebar-footer > .aui-sidebar-toggle",e.prototype.submenu=function(a){return u(),f(a)},e.prototype.hasSubmenu=function(a){return u(),g(a)},e.prototype.submenuHeadingHeight=function(){return u(),34},e.prototype.isShowing=function(){u();var a=d(),b=Array.prototype.map.call(a,function(a){return a.isVisible()});return b.length?b.reduce(function(a,b){return a||b}):!1},e.prototype.show=function(a,b){u();var c=b.getAttribute("aria-controls");document.getElementById(c).show()},e.prototype.hide=function(){u();var a=d();Array.prototype.forEach.call(a,function(a){a.hide()})},e.prototype.inlineDialogShowHandler=function(){u()},e.prototype.inlineDialogHideHandler=function(){u()},e.prototype.moveSubmenuToInlineDialog=function(){u()},e.prototype.restoreSubmenu=function(){u()};var s='<div class="aui-inline-dialog-contents"><div class="aui-sidebar-submenu" ><div class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><div class="aui-nav-heading"><strong></strong></div></div></div></div></div>',t={"trigger":"manual","gravity":"w","className":"aui-sidebar-section-tooltip","title":function(){var b=a(this);return b.is("a")?b.attr("title")||b.find(".aui-nav-item-label").text()||b.data("tooltip"):b.children(".aui-nav").attr("title")||b.children(".aui-nav-heading").text()}};AJS.sidebar=AJS._internal.widget("sidebar",c),a(function(){AJS.sidebar(".aui-sidebar")});var u=AJS.deprecate.getMessageLogger("Sidebar.submenus",{"removeInVersion":"6.0","sinceVersion":"5.8"})}(AJS.$),function(a){"use strict";define("aui/flag",[],function(){return a(AJS,AJS.$,AJS.template)})}(function(a,b,c){"use strict";function d(a){a=b.extend({},o,a);var c=f(a);return e(c),"auto"===a.close?(g(c),h(c)):"manual"===a.close&&g(c),j(),l(c)}function e(a){var b=a[0];b.close=function(){i(a)}}function f(a){var d='<div class="aui-flag"><div class="aui-message aui-message-{type} {type} {closeable} shadowed"><p class="title"><strong>{title}</strong></p>{body}<!-- .aui-message --></div></div>',e=c(d).fill({"body:html":a.body||"","closeable":"never"===a.close?"":"closeable","title":a.title||"","type":a.type}).toString();return b(e)}function g(c){var d=b('<span class="aui-icon icon-close" role="button" tabindex="0"></span>');return d.click(function(){i(c)}),d.keypress(function(b){(b.which===a.keyCode.ENTER||b.which===a.keyCode.SPACE)&&(i(c),b.preventDefault())}),c.find(".aui-message").append(d)[0]}function h(a){a.find(".aui-message").addClass("aui-will-close"),setTimeout(function(){a[0].close()},m)}function i(a){var b=a.get(0);return b.setAttribute("aria-hidden","true"),b.dispatchEvent(new CustomEvent("aui-flag-close",{"bubbles":!0})),b}function j(){var a=k(),c=a.find(".aui-flag");c.get().forEach(function(a){var c="true"===a.getAttribute("aria-hidden");c&&b(a).remove()})}function k(){return b("#"+n)}function l(c){var d=k();return d.length||(d=b('<div id="'+n+'"></div>'),b("body").prepend(d)),c.appendTo(d),a._internal.animation.recomputeStyle(c),c.attr("aria-hidden","false")[0]}var m=5e3,n="aui-flag-container",o={"body":"","close":"manual","title":"","type":"info"};return d}),function(a){"use strict";define("aui/banner",[],function(){return a(AJS,AJS.$,AJS.template)})}(function(a,b,c){"use strict";function d(a){var b=e(a);return f(),h(b),b[0]}function e(a){var d='<div class="aui-banner aui-banner-{type}" role="banner">{body}</div>',e=b(c(d).fill({"type":"error","body:html":a.body||""}).toString());return e}function f(){var a=g(),c=a.find(".aui-banner");c.get().forEach(function(a){var c="true"===a.getAttribute("aria-hidden");c&&b(a).remove()})}function g(){return b("#"+i)}function h(b){var c=g();if(!c.length)throw new Error("You must implement the application header");b.prependTo(c),a._internal.animation.recomputeStyle(b),b.attr("aria-hidden","false")}var i="header";return d}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={"computed":-1/0,"value":-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={"value":a,"computed":g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={"computed":1/0,"value":1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={"value":a,"computed":g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return arguments.length<2||c?a[x.random(a.length-1)]:x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{"value":a,"index":b,"criteria":d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={},f=null==c?x.identity:B(c);return y(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};x.groupBy=C(function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={"escape":{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={"escape":new RegExp("["+x.keys(G.escape).join("")+"]","g"),"unescape":new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={"evaluate":/<%([\s\S]+?)%>/g,"interpolate":/<%=([\s\S]+?)%>/g,"escape":/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{"chain":function(){return this._chain=!0,this},"value":function(){return this._wrapped}})}.call(this),"function"==typeof window.define&&define("underscore",[],function(){return window._}),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var h=b._;h||"undefined"==typeof require||(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=a.Events={"on":function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({"callback":b,"context":c,"ctx":c||this}),this},"once":function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},"off":function(a,b,c){var d,e,f,g,i,j,l,m;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=f.length;m>l;l++)e=f[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},"trigger":function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&l(c,b),d&&l(d,arguments),this},"stopListening":function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(j.test(c)){for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},m={"listenTo":"on","listenToOnce":"once"};h.each(m,function(a,b){i[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=h.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),i.bind=i.on,i.unbind=i.off,h.extend(a,i);var n=a.Model=function(a,b){var c,d=a||{};b||(b={}),this.cid=h.uniqueId("c"),this.attributes={},h.extend(this,h.pick(b,o)),b.parse&&(d=this.parse(d,b)||{}),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)},o=["url","urlRoot","collection"];h.extend(n.prototype,i,{"changed":null,"validationError":null,"idAttribute":"id","initialize":function(){},"toJSON":function(){return h.clone(this.attributes)},"sync":function(){return a.sync.apply(this,arguments)},"get":function(a){return this.attributes[a]},"escape":function(a){return h.escape(this.get(a))},"has":function(a){return null!=this.get(a)},"set":function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},"unset":function(a,b){return this.set(a,void 0,h.extend({},b,{"unset":!0}))},"clear":function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{"unset":!0}))},"hasChanged":function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},"changedAttributes":function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},"previous":function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},"previousAttributes":function(){return h.clone(this._previousAttributes)},"fetch":function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),void b.trigger("sync",b,d,a)):!1},L(this,a),this.sync("read",this,a)},"save":function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!(!d||c&&c.wait||this.set(d,c)))return!1;if(c=h.extend({"validate":!0},c),!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},g,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=g;var b=i.parse(a,c);return c.wait&&(b=h.extend(d||{},b)),h.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),void i.trigger("sync",i,a,c))},L(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=g),f},"destroy":function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;L(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},"url":function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||K();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},"parse":function(a){return a},"clone":function(){return new this.constructor(this.attributes)},"isNew":function(){return null==this.id},"isValid":function(a){return this._validate({},h.extend(a||{},{"validate":!0}))},"_validate":function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,h.extend(b||{},{"validationError":c})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.attributes),h[a].apply(h,b)}});var q=a.Collection=function(a,b){b||(b={}),b.url&&(this.url=b.url),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({"silent":!0},b))},r={"add":!0,"remove":!0,"merge":!0},s={"add":!0,"merge":!1,"remove":!1};h.extend(q.prototype,i,{"model":n,"initialize":function(){},"toJSON":function(a){return this.map(function(b){return b.toJSON(a)})},"sync":function(){return a.sync.apply(this,arguments)},"add":function(a,b){return this.set(a,h.defaults(b||{},s))},"remove":function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},"set":function(a,b){b=h.defaults(b||{},r),b.parse&&(a=this.parse(a,b)),h.isArray(a)||(a=a?[a]:[]);var c,d,f,i,j,k=b.at,l=this.comparator&&null==k&&b.sort!==!1,m=h.isString(this.comparator)?this.comparator:null,n=[],o=[],p={};for(c=0,d=a.length;d>c;c++)(f=this._prepareModel(a[c],b))&&((i=this.get(f))?(b.remove&&(p[i.cid]=!0),b.merge&&(i.set(f.attributes,b),l&&!j&&i.hasChanged(m)&&(j=!0))):b.add&&(n.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)));if(b.remove){for(c=0,d=this.length;d>c;++c)p[(f=this.models[c]).cid]||o.push(f);o.length&&this.remove(o,b)}if(n.length&&(l&&(j=!0),this.length+=n.length,null!=k?g.apply(this.models,[k,0].concat(n)):e.apply(this.models,n)),j&&this.sort({"silent":!0}),b.silent)return this;for(c=0,d=n.length;d>c;c++)(f=n[c]).trigger("add",f,this,b);return j&&this.trigger("sort",this,b),this},"reset":function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),this.add(a,h.extend({"silent":!0},b)),b.silent||this.trigger("reset",this,b),this},"push":function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({"at":this.length},b)),a},"pop":function(a){var b=this.at(this.length-1);return this.remove(b,a),b},"unshift":function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({"at":0},b)),a},"shift":function(a){var b=this.at(0);return this.remove(b,a),b},"slice":function(a,b){return this.models.slice(a,b)},"get":function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},"at":function(a){return this.models[a]},"where":function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},"findWhere":function(a){return this.where(a,!0)},"sort":function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},"sortedIndex":function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)},"pluck":function(a){return h.invoke(this.models,"get",a)},"fetch":function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},L(this,a),this.sync("read",this,a)},"create":function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(a,b,e){e.wait&&c.add(a,e),d&&d(a,b,e)},a.save(null,b),a},"parse":function(a){return a},"clone":function(){return new this.constructor(this.models)},"_reset":function(){this.length=0,this.models=[],this._byId={}},"_prepareModel":function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},"_removeReference":function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},"_onModelEvent":function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var t=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(t,function(a){q.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var u=["groupBy","countBy","sortBy"];h.each(u,function(a){q.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var v=a.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(v.prototype,i,{"tagName":"div","$":function(a){return this.$el.find(a)},"initialize":function(){},"render":function(){return this},"remove":function(){return this.$el.remove(),this.stopListening(),this},"setElement":function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},"delegateEvents":function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),c){var d=b.match(w),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)
}}return this},"undelegateEvents":function(){return this.$el.off(".delegateEvents"+this.cid),this},"_configure":function(a){this.options&&(a=h.extend({},h.result(this,"options"),a)),h.extend(this,h.pick(a,x)),this.options=a},"_ensureElement":function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}}),a.sync=function(b,c,d){var e=y[b];h.defaults(d||(d={}),{"emulateHTTP":a.emulateHTTP,"emulateJSON":a.emulateJSON});var f={"type":e,"dataType":"json"};if(d.url||(f.url=h.result(c,"url")||K()),null!=d.data||!c||"create"!==b&&"update"!==b&&"patch"!==b||(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{"model":f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),g?g.apply(this,arguments):void 0}}"GET"===f.type||d.emulateJSON||(f.processData=!1),"PATCH"!==f.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=d.xhr=a.ajax(h.extend(f,d));return c.trigger("request",c,i,d),i};var y={"create":"POST","update":"PUT","patch":"PATCH","delete":"DELETE","read":"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var z=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,C=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,i,{"initialize":function(){},"route":function(b,c,d){h.isRegExp(b)||(b=this._routeToRegExp(b)),h.isFunction(c)&&(d=c,c=""),d||(d=this[c]);var e=this;return a.history.route(b,function(f){var g=e._extractParameters(b,f);d&&d.apply(e,g),e.trigger.apply(e,["route:"+c].concat(g)),e.trigger("route",c,g),a.history.trigger("route",e,c,g)}),this},"navigate":function(b,c){return a.history.navigate(b,c),this},"_bindRoutes":function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},"_routeToRegExp":function(a){return a=a.replace(D,"\\$&").replace(A,"(?:$1)?").replace(B,function(a,b){return b?a:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+a+"$")},"_extractParameters":function(a,b){var c=a.exec(b).slice(1);return h.map(c,function(a){return a?decodeURIComponent(a):null})}});var E=a.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,G=/^\/+|\/+$/g,H=/msie [\w.]+/,I=/\/$/;E.started=!1,h.extend(E.prototype,i,{"interval":50,"getHash":function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},"getFragment":function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(I,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(F,"")},"start":function(b){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=h.extend({},{"root":"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=H.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(G,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},"stop":function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},"route":function(a,b){this.handlers.unshift({"route":a,"callback":b})},"checkUrl":function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void(this.loadUrl()||this.loadUrl(this.getHash())))},"loadUrl":function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return c},"navigate":function(a,b){if(!E.started)return!1;if(b&&b!==!0||(b={"trigger":b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},"_updateHash":function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new E;var J=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};n.extend=q.extend=z.extend=v.extend=E.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}}.call(this),"function"==typeof window.define&&define("backbone",["underscore"],function(){return window.Backbone}),define("aui/internal/select/option",["aui/internal/skate"],function(a){"use strict";a("aui-option",{"created":function(a){Object.defineProperty(a,"value",{"get":function(){return a.getAttribute("value")||a.textContent},"set":function(b){a.setAttribute("value",b)}})},"prototype":{"serialize":function(){var a={};return this.hasAttribute("img-src")&&(a["img-src"]=this.getAttribute("img-src")),a.value=this.value,a.label=this.textContent,a}}})}),define("aui/internal/select/suggestions-model",[],function(){"use strict";function a(){this._suggestions=[],this._activeIndex=-1}return a.prototype={"onChange":function(){},"onHighlightChange":function(){},"get":function(a){return this._suggestions[a]},"set":function(a){var b=this._suggestions;return this._suggestions=a||[],this.onChange(b),this},"setHighlighted":function(a){if(a)for(var b=0;b<this._suggestions.length;b++)this._suggestions[b].id===a.id&&this.highlight(b);return this},"highlight":function(a){return this._activeIndex=a,this.onHighlightChange(),this},"highlightPrevious":function(){var a=this._activeIndex,b=0===a?a:a-1;return this.highlight(b),this},"highlightNext":function(){var a=this._activeIndex,b=a===this._suggestions.length-1?a:a+1;return this.highlight(b),this},"highlighted":function(){return this.get(this._activeIndex)},"highlightedIndex":function(){return this._activeIndex}},a}),define("aui/internal/select/suggestions-view",["../alignment","../../../layer"],function(a,b){"use strict";function c(a,b){return a+"-"+b}function d(b){b.anchor&&!b.auiAlignment&&(b.auiAlignment=new a(b.el,b.anchor)),b.auiAlignment&&b.auiAlignment.enable()}function e(a){a.auiAlignment&&a.auiAlignment.destroy()}function f(a){i(a.el).css("min-width",i(a.anchor).outerWidth())}function g(a,b){this.el=a,this.anchor=b}function h(a){i(a).find(".aui-select-active").removeClass("aui-select-active")}var i=jQuery;return g.prototype={"render":function(a,b,d){this.currListId=d;var e="";if(a.length){var f=b;a.forEach(function(a){var b=a.get("label")||a.get("value"),g=a.get("img-src")?'<img src="'+a.get("img-src")+'"/>':"";e+='<li role="option" class="aui-select-suggestion" id="'+c(d,f)+'">'+g+b+"</li>",f++}),b?this.el.querySelector("ul").innerHTML+=e:this.el.querySelector("ul").innerHTML=e}else b||(this.el.querySelector("ul").innerHTML='<li role="option" class="aui-select-no-suggestions">'+AJS.I18n.getText("aui.select.no.suggestions")+"</li>");return this},"setActive":function(a){h(this.el),i(this.el).find("#"+c(this.currListId,a)).addClass("aui-select-active")},"getActive":function(){return this.el.querySelector(".aui-select-active")},"show":function(){f(this),d(this),b(this.el).show()},"hide":function(){h(this.el),b(this.el).hide(),e(this)},"isVisible":function(){return i(this.el).is(":visible")}},g}),define("aui/internal/select/template",["aui/internal/skate-template-html"],function(a){"use strict";return a('<input type="text" class="text" autocomplete="off" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false">',"<select></select>","<datalist>",'<content select="aui-option"></content>',"</datalist>",'<button class="aui-button" role="button" tabindex="-1" type="button"></button>','<div class="aui-popover" role="listbox" data-aui-alignment="bottom left">','<ul class="aui-optionlist" role="presentation"></ul>',"</div>",'<div class="aui-select-status assistive" aria-live="polite" role="status"></div>')}),AJS.ProgressiveDataSet=Backbone.Collection.extend({"initialize":function(a,b){b||(b={}),b.matcher&&(this.matcher=b.matcher),b.model&&(this.model=b.model),this._idAttribute=(new this.model).idAttribute,this._maxResults=b.maxResults||5,this._queryData=b.queryData||{},this._queryParamKey=b.queryParamKey||"q",this._queryEndpoint=b.queryEndpoint||"",this.value=null,this.queryCache={},this.activeQueryCount=0,_.bindAll(this,"query","respond")},"url":function(){return this._queryEndpoint},"query":function(a){var b,c;this.value=a,c=this.getFilteredResults(a),this.respond(a,c),a&&this._queryEndpoint&&!this.hasQueryCache(a)&&this.shouldGetMoreResults(c)&&(b=this.fetch(a),this.activeQueryCount++,this.trigger("activity",{"activity":!0}),b.always(_.bind(function(){this.activeQueryCount--,this.trigger("activity",{"activity":!!this.activeQueryCount})},this)),b.done(_.bind(function(b,c,d){this.addQueryCache(a,b,d)},this)),b.done(_.bind(function(){a=this.value,c=this.getFilteredResults(a),this.respond(a,c)},this)))},"getQueryData":function(a){var b=_.isFunction(this._queryData)?this._queryData(a):this._queryData,c=_.extend({},b);return c[this._queryParamKey]=a,c},"fetch":function(a){var b=this.getQueryData(a),c={"add":!0,"update":!0,"remove":!1,"data":b},d=Backbone.Collection.prototype.fetch.call(this,c);return d},"respond":function(a,b){return this.trigger("respond",{"query":a,"results":b}),b},"matcher":function(){},"getFilteredResults":function(a){var b=[];return a?(b=this.filter(function(b){return!!this.matcher(b,a)},this),this._maxResults&&(b=_.first(b,this._maxResults)),b):b},"addQueryCache":function(a,b,c){var d=this.queryCache,e=this.parse(b,c);d[a]=_.pluck(e,this._idAttribute)},"hasQueryCache":function(a){return this.queryCache.hasOwnProperty(a)},"findQueryCache":function(a){return this.queryCache[a]},"shouldGetMoreResults":function(a){return a.length<this._maxResults},"setMaxResults":function(a){this._maxResults=a,this.value&&this.respond(this.value,this.getFilteredResults(this.value))}}),"function"==typeof window.define&&define("experimental-autocomplete/progressive-data-set",[],function(){return window.AJS.ProgressiveDataSet}),define("aui/select",["aui/internal/skate","backbone","./internal/select/option","./internal/select/suggestions-model","./internal/select/suggestions-view","./internal/select/template","./internal/state","./internal/spinner","../experimental-autocomplete/progressive-data-set"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){a._select.selectedIndex=K}function j(a){return g(a).get("has-results")}function k(a){setTimeout(a,50)}function l(a){a._spinner.show(),a._button.setAttribute("aria-busy","true"),a._input.setAttribute("aria-busy","true"),a._dropdown.setAttribute("aria-busy","true")}function m(a){a._spinner.hide(),a._button.setAttribute("aria-busy","false"),a._input.setAttribute("aria-busy","false"),a._dropdown.setAttribute("aria-busy","false")}function n(a,b){var c=a.get("label").toLowerCase();return 0===c.indexOf(b.toLowerCase())}function o(a){a._suggestionsView.hide(),a._input.setAttribute("aria-expanded","false")}function p(a){var b=j(a)?0:L;a._suggestionModel.highlight(b),a._input.value=a.value,o(a)}function q(a,b){H(a._input).addClass("aui-select-has-inline-image"),a._input.setAttribute("style","background-image: url("+b+")")}function r(a,b,c){a._autoHighlight=b,void 0===c&&(c=a._input.value),a._progressiveDataSet.query(c)}function s(a){u(a,a._suggestionModel.highlighted()),t(a),p(a)}function t(a){var b=a._suggestionModel.highlighted()&&a._suggestionModel.highlighted().get("img-src");b&&q(a,b)}function u(a,b){if(b){var c=document.createElement("option"),d=a._select;c.setAttribute("selected",!0),c.setAttribute("value",b.get("value")||b.get("label")),c.textContent=b.get("label"),d.innerHTML="",d.options.add(c),d.dispatchEvent(new CustomEvent("change",{"bubbles":!0}))}}function v(a){return new J(a.serialize())}function w(a){for(var b=[],c=0;c<a._datalist.children.length;c++){var d=a._datalist.children[c];b.push(v(d))}return b}function x(a,b){a._suggestionModel.set(),a._suggestionModel.set(b.results)}function y(a){var b=a._dropdown.querySelector(".aui-select-active");return b&&b.id}function z(a){a._progressiveDataSet=new I(w(a),{"model":J,"matcher":n,"queryEndpoint":a._queryEndpoint,"maxResults":M}),a._isSync=a._queryEndpoint?!1:!0,a._progressiveDataSet.on("activity",function(){a._progressiveDataSet.activeQueryCount&&!a._isSync?(l(a),g(a).set("should-flag-new-suggestions",!1)):(m(a),g(a).set("should-flag-new-suggestions",!0))}),a._progressiveDataSet.on("respond",function(b){var c;if(!b.query||a._input.value){if(g(a).get("should-cancel-response"))return void(a._progressiveDataSet.activeQueryCount||g(a).set("should-cancel-response",!1));if(b.query?g(a).set("has-results",b.results.length>0):(b.results=w(a),g(a).set("has-results",!0)),!g(a).get("should-include-selected")){var d=H.map(b.results,function(a){return a.id}),e=d.indexOf(a.value);e>=0&&b.results.splice(e,1)}x(a,b),c=a._suggestionModel.highlighted()||b.results[0],a._autoHighlight&&(a._suggestionModel.setHighlighted(c),k(function(){a._input.setAttribute("aria-activedescendant",y(a))})),a._input.setAttribute("aria-expanded","true"),!a._isSync&&a._suggestionsView.getActive()&&g(a).get("should-flag-new-suggestions")&&(a.querySelector(".aui-select-status").innerHTML=AJS.I18n.getText("aui.select.new.suggestions")),a._suggestionsView.show(),a._autoHighlight&&k(function(){a._input.setAttribute("aria-activedescendant",y(a))})}})}function A(a){a._dropdown.id=a._listId,a.querySelector("button").setAttribute("aria-controls",a._listId)}function B(a){H(a._dropdown).on("mouseover","li",function(b){j(a)&&a._suggestionModel.highlight(H(b.target).index())})}function C(a){H(a._dropdown).on("mousedown","li",function(b){return j(a)?(a._suggestionModel.highlight(H(b.target).index()),s(a),a._suggestionsView.hide(),a._input.removeAttribute("aria-activedescendant"),void 0):!1})}function D(a){var b=a._datalist.querySelector("aui-option[selected]");b&&u(a,v(b))}function E(a){return a._progressiveDataSet.activeQueryCount>0}function F(a){g(a).set("should-include-selected",!1),r(a,!0,"")}function G(a){a._suggestionsView.isVisible()&&g(a).get("should-deselect")&&(i(a),g(a).set("should-deselect",!1)),E(a)&&g(a).set("should-cancel-response",!0),o(a)}var H=jQuery,I=AJS.ProgressiveDataSet,J=b.Model.extend({"idAttribute":"label"}),K=-1,L=-1,M=20;return a("aui-select",{"type":a.types.TAG,"template":f,"created":function(b){b._listId=AJS.id(),b._input=b.querySelector("input"),b._select=b.querySelector("select"),b._dropdown=b.querySelector(".aui-popover"),b._datalist=b.querySelector("datalist"),b._button=b.querySelector("button"),b._suggestionsView=new e(b._dropdown,b._input),b._suggestionModel=new d,b._suggestionModel.onChange=function(a){var c=[];b._suggestionModel._suggestions.forEach(function(b){var d=a.some(function(a){return b.id===a.id});d||c.push(b)}),b._suggestionsView.render(c,a.length,b._listId)},b._suggestionModel.onHighlightChange=function(){var a=b._suggestionModel.highlightedIndex();b._suggestionsView.setActive(a),b._input.setAttribute("aria-activedescendant",y(b))},a.init(b),z(b),A(b),b._input.setAttribute("aria-controls",b._listId),b.setAttribute("tabindex","-1"),B(b),C(b),D(b),p(b),t(b),b._spinner=new h(b._button),m(b)},"attributes":{"id":function(a,b){a.id&&(a.querySelector("input").id=b.newValue,a.removeAttribute("id"))},"name":function(a,b){a.querySelector("select").setAttribute("name",b.newValue)},"src":function(a,b){a._queryEndpoint=b.newValue}},"events":{"blur input":function(a){G(a)},"mousedown button":function(a){document.activeElement===a._input&&"false"===a._dropdown.getAttribute("aria-hidden")&&g(a).set("prevent-open-on-button-click",!0)},"click input":function(a){F(a)},"click button":function(a){var b=g(a);b.get("prevent-open-on-button-click")?b.set("prevent-open-on-button-click",!1):a.focus()},"input":function(a){a._input.value?(g(a).set("should-include-selected",!0),r(a,!0)):(i(a),o(a))},"keydown input":function(a,b){var c=a._suggestionsView.isVisible(),d=a._input.value,e=!1;return b.keyCode===AJS.keyCode.ESCAPE?void G(a):(c&&j(a)?b.keyCode===AJS.keyCode.ENTER?(s(a),b.preventDefault()):b.keyCode===AJS.keyCode.TAB?(s(a),e=!0,a._input.setAttribute("aria-expanded","false")):b.keyCode===AJS.keyCode.UP?(a._suggestionModel.highlightPrevious(),b.preventDefault()):b.keyCode===AJS.keyCode.DOWN&&(a._suggestionModel.highlightNext(),b.preventDefault()):b.keyCode!==AJS.keyCode.UP&&b.keyCode!==AJS.keyCode.DOWN||!j(a)||(F(a),b.preventDefault()),e=e||b.defaultPrevented,void setTimeout(function(){a._input.value===d||e||(g(a).set("should-deselect",!0),a.dispatchEvent(new CustomEvent("input",{"bubbles":!0})))},0))}},"prototype":{get value(){var a=this._select.options[this._select.selectedIndex];return a?a.textContent:""},set value(a){var b=this._progressiveDataSet,c=b.findWhere({"value":a})||b.findWhere({"label":a});return u(this,c),this},get displayValue(){return this._input.value},"blur":function(){return this._input.blur(),G(this),this},"focus":function(){return this._input.focus(),F(this),this}}})}),define("aui/checkbox-multiselect",[],function(){function a(a){var c=n(a.target),d=c.attr("data-value");b(this,d,c.hasClass("aui-dropdown2-checked"))}function b(a,b,c){var d=a.$select.find("option").filter(function(){var a=n(this);return a.attr("value")===b&&a.prop("selected")!=c});d.length&&(d.prop("selected",c),a.$select.trigger("change"))}function c(a){a.$dropdown.find("[data-aui-checkbox-multiselect-clear]").prop("disabled",function(){return j(a).length<1})}function d(a){return a.$dropdown.is("[aria-hidden=false]")?"":k(a).join(", ")}function e(a){return a.map(function(){var a=n(this);return{"value":a.val(),"label":a.text(),"icon":a.data("icon"),"styleClass":a.data("styleClass"),"title":a.attr("title"),"disabled":a.attr("disabled"),"selected":a.attr("selected")}})}function f(a){return n(a).data("allLabel")||"All"}function g(a){a.$dropdown.html(o.dropdown(i(a))),c(a)}function h(a){var b=k(a),c=l(a)?f(a):b.join(", ");a.$btn.text(c)}function i(a){return e(a.getOptions())}function j(a){return e(a.getSelectedOptions())}function k(a){return n.map(j(a),function(a){return a.label})}function l(a){return 0===j(a).length}var m=window.skate,n=window.jQuery,o={"dropdown":function(a){function b(){return n('<div class="aui-dropdown2-section">')}var c=b();n("<button />").attr({"type":"button","data-aui-checkbox-multiselect-clear":"","class":"aui-button aui-button-link"}).text(AJS.I18n.getText("aui.checkboxmultiselect.clear.selected")).appendTo(c);var d=b(),e=n("<ul />").appendTo(d);return n.each(a,function(a,b){var c=n("<li />").attr({"class":b.styleClass||""}).appendTo(e),d=n("<a />").text(b.label).attr("data-value",b.value).addClass("aui-dropdown2-checkbox aui-dropdown2-interactive").appendTo(c);b.icon&&n("<span />").addClass("aui-icon").css("backgroundImage","url("+b.icon+')")').appendTo(d),b.selected&&d.addClass("aui-dropdown2-checked")}),n("<div />").append(c).append(d).html()},"furniture":function(a,b){var c=a+"-dropdown",d=n("<select />").attr({"name":a,"multiple":"multiple"}).html(b),e=n("<div>").attr({"id":c,"class":"aui-checkbox-multiselect-dropdown aui-dropdown2 aui-style-default"}),f=n("<button />").attr({"class":"aui-checkbox-multiselect-btn aui-button aui-dropdown2-trigger","type":"button","aria-owns":c,"aria-haspopup":!0});return n("<div />").append(d).append(f).append(e).html()}};m("aui-checkbox-multiselect",{"type":m.types.TAG,"template":function(a){var b=a.getAttribute("name")||AJS.id("aui-checkbox-multiselect-");a.innerHTML=o.furniture(b,a.innerHTML)},"created":function(b){b.$select=n("select",b).change(function(){h(b),c(b)}),b.$dropdown=n(".aui-checkbox-multiselect-dropdown",b).on("aui-dropdown2-item-check",a.bind(b)).on("aui-dropdown2-item-uncheck",a.bind(b)).on("click","button[data-aui-checkbox-multiselect-clear]",b.deselectAllOptions.bind(b)),b.$btn=n(".aui-checkbox-multiselect-btn",b).tooltip({"title":function(){return d(b)}}),h(b),g(b)},"prototype":{"getOptions":function(){return this.$select.find("option")},"getSelectedOptions":function(){return this.$select.find("option:selected")},"selectOption":function(a){b(this,a,!0)},"unselectOption":function(a){b(this,a,!1)},"getValue":function(){return this.$select.val()},"deselectAllOptions":function(){this.$select.val([]).trigger("change"),this.$dropdown.find(".aui-dropdown2-checked,.checked").removeClass("aui-dropdown2-checked checked")},"addOption":function(a){n("<option />").attr({"value":a.value,"icon":a.icon,"disabled":a.disabled,"selected":a.selected,"title":a.title}).text(a.label).appendTo(this.$select),h(this),g(this)},"removeOption":function(a){this.$select.find("[value='"+a+"']").remove(),h(this),g(this)}}})}),function(a){"use strict";define("aui/polyfills/placeholder",[],function(){return a(AJS.$,window.skate)})}(function(a,b){"use strict";function c(b){var c=a(b);d(c),c.blur(function(){d(c)}),c.focus(function(){c.hasClass("aui-placeholder-shown")&&(c.val(""),c.removeClass("aui-placeholder-shown"))})}function d(b){a.trim(b.val()).length||(b.val(b.attr("placeholder")),b.addClass("aui-placeholder-shown"))}"placeholder"in document.createElement("input")||b("placeholder",{"type":b.types.ATTR,"attached":function(a){c(a)}})});